(function(window,$,undefined){$.ajaxSetup({data:{X_GUMM_REQUESTED_WITH:'XMLHttpRequest',}});$.gummPopup=function gummPopup(options,callback,element){if(element!==undefined)this.callerElement=$(element);this._create(options,callback);};$.gummPopup.settings={width:300,height:200,appendTo:'body',url:false,urlData:null,dataSelector:false,cloneDataElement:false,effect:'pop',effectDuration:250,effectEasing:'easeInCubic',effectCloseDuration:150,effectCloseEasing:'linear',overlay:true,footerButtons:['cancel','ok'],_headerClass:'popup-top-bar',_footerClass:'popup-bottom-bar',addClass:false,resizable:true,buttonOkEnabled:true,searchBar:false,searchSettings:{items:'.searchable'},onSearchComplete:function(){return true;},beforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onContentReady:function(){},onConfirm:function(){},onCancel:function(){}};$.gummPopup.prototype={_contentLoaded:false,_popupOpened:false,_loadCompleted:false,callerElement:null,headerElement:null,footerElement:null,contentElement:null,footerElement:null,buttonOkElement:null,buttonCancelelement:null,closeElement:null,_create:function(options,callback){this.options=$.extend(true,{},$.gummPopup.settings,options);this.element=$('<div id="gumm-popup-'+uniqid()+'" class="gumm-popup-window loading bluebox-admin"></div');if(this.options.addClass){this.element.addClass(this.options.addClass);}
this.element.css({width:this.options.width,height:this.options.height,opacity:0,zIndex:100});$(this.options.appendTo).append(this.element);this._addHeader();this._addContent();this._addFooter();this._bindListeners();this.element.draggable({handle:'.'+this.options._headerClass+', .'+this.options._footerClass,cancel:'.close-link, input, .search-input-wrapper'});this.open();},_addHeader:function(){this.headerElement=$('<div class="'+this.options._headerClass+'"></div>');this.closeElement=$('<a class="close-link close-gumm-popup" href="#"></a>');if(this.options.searchBar===true){this._addSearchBar();}
this.headerElement.append(this.closeElement);this.element.append(this.headerElement);},_addSearchBar:function(){this.searchInput=$('<input class="span2" type="text" placeholder="filter" />');var searchWrapper=$('<div class="input-append search-input-wrapper"></div>');searchWrapper.append(this.searchInput);searchWrapper.append('<span class="add-on"><i class="icon-search"></i></span>');this.headerElement.append(searchWrapper);},_addFooter:function(){var instance=this;this.footerElement=$('<div class="'+this.options._footerClass+'"></div>');$.each(this.options.footerButtons,function(i,button){button=button.toLowerCase();var theButtonEle=$('<a class="btn" href="#">'+button+'</a>');switch(button){case'ok':theButtonEle.addClass('btn-primary');if(instance.options.buttonOkEnabled===false)theButtonEle.addClass('inactive');instance.buttonOkElement=theButtonEle;break;case'cancel':instance.buttonCancelElement=theButtonEle;break;}
instance.footerElement.append(theButtonEle);});this.element.append(this.footerElement);},_addContent:function(){this.contentElement=$('<div class="popup-content"></div>');this.contentInnerElement=$('<div class="popup-inner-content"></div>');this.contentElement.append(this.contentInnerElement);this.updateContent();this.element.append(this.contentElement);},_setContentHeight:function(){this.contentElement.outerHeight(0);var frameHeights=0;this.element.children().each(function(i,ele){frameHeights+=$(ele).outerHeight();if($(ele).css('marginTop')!='auto')frameHeights+=parseInt($(ele).css('marginTop'));if($(ele).css('marginBottom')!='auto')frameHeights+=parseInt($(ele).css('marginBottom'));});this.contentElement.outerHeight(this.element.innerHeight()-frameHeights);},updateContent:function(data){this.options.beforeOpen.call(this,this.contentElement);var instance=this;var url=this.options.url;var urlData=this.options.urlData;var selector=this.options.dataSelector;if(data===undefined&&url){if(urlData)url+='?'+$.param(urlData);instance.contentElement.hide();instance.contentInnerElement.load(url,function(){instance.contentElement.show();instance._onContentReady();});}else if(data===undefined&&selector){var contentToAppend=null;if(this.options.cloneDataElement){contentToAppend=$(selector).clone();}else{contentToAppend=$(selector);}
instance.contentInnerElement.append(contentToAppend);contentToAppend.css({display:'block'});instance.contentElement.show();instance._onContentReady();}else if(data){instance.contentInnerElement.html(data);instance._onContentReady();}},open:function(){var instance=this;this._setContentHeight();switch(this.options.effect){case'pop':if(this.callerElement!==null){this._animatePopOpen({width:this.callerElement.width(),height:this.callerElement.height(),offset:this.callerElement.offset(),position:this.callerElement.position()});break;}
default:this.element.animate({opacity:1},this.options.effectDuration,this.options.effectEasing,function(){instance._onOpen();});this.center();}},close:function(){var instance=this;switch(this.options.effect){case'pop':if(this.callerElement!==null){this._animatePopClose({width:this.callerElement.width(),height:this.callerElement.height(),offset:this.callerElement.offset(),position:this.callerElement.position()});break;}
default:this.element.animate({opacity:0},this.options.effectCloseDuration,this.options.effectCloseEasing,function(){instance._onClose();});this.center();}},_onOpen:function(){this.center();this.contentElement.css({overflowY:'auto',overflowX:'hidden'});this._popupOpened=true;if(this._contentLoaded===true)this._onLoadOpenComplete();},_onClose:function(){this.options.onBeforeClose.call(this,this.contentElement);this.element.remove();this._contentLoaded=false;this._popupOpened=false;this._loadCompleted=false;this.options.onClose.call(this);},_onContentReady:function(){this._contentLoaded=true;if(this._popupOpened===true)this._onLoadOpenComplete();this.element.removeClass('loading');if(this.options.searchBar){this._initSearchable();}
this.options.onContentReady.call(this,this.contentElement);},_onLoadOpenComplete:function(){if(this._loadCompleted===true)return;this._loadCompleted=true;if(this.options.resizable===true){this.element.resizable({alsoResize:'.popup-content'});}
this.options.onOpen.call(this,this.contentElement);},_initSearchable:function(){var _self=this;this.searchItems=this.contentInnerElement.find(this.options.searchSettings.items);this.searchValues=[];this.searchItems.each(function(i,ele){_self.searchValues.push($(ele).data('search-value'));});this.searchInputTimeOut=null;var _prevVal='';this.searchInput.on('keyup',function(e){var val=$(this).val();if(val.length>0&&val!==_prevVal){if(_self.searchInputTimeOut!==null)clearTimeout(_self.searchInputTimeOut);_prevVal=val;$(this).next('.add-on').children('i').removeClass('icon-search').addClass('icon-spinner icon-spin');_self.searchInputTimeOut=setTimeout(function(){_self.searchInput.next('.add-on').children('i').addClass('icon-search').removeClass('icon-spinner icon-spin');var matchedElements=[];$.each(_self.searchValues,function(i,_v){if(_v.toUpperCase().indexOf(val.toUpperCase())>-1){matchedElements.push(_self.searchItems.eq(i));}});_self.filterSearchedItems(matchedElements);},500);}else if(val.length===0){_self.searchInput.next('.add-on').children('i').addClass('icon-search').removeClass('icon-spinner icon-spin');_self.nullSearchedItems();}});},filterSearchedItems:function(matchedElements){if(this.options.onSearchComplete.apply(this,[matchedElements,false])===false)return;this.searchItems.hide();$.each(matchedElements,function(i,ele){$(ele).show().removeClass('hidden');});},nullSearchedItems:function(){if(this.options.onSearchComplete.apply(this,[this.searchItems,true])===false)return;this.searchItems.show().removeClass('hidden');},_animatePopOpen:function(initSettings){var instance=this;var helper=this.element.clone();helper.css({opacity:0});$('body').append(helper);this.center(helper);var animateTop=helper.position().top;var animateLeft=helper.position().left;helper.remove();this.element.children().hide();this.element.css({opacity:.5,position:'absolute',top:initSettings.offset.top+(initSettings.height/2),left:initSettings.offset.left+(initSettings.width/2),width:0,height:0});this.element.animate({opacity:1,width:instance.options.width,height:instance.options.height,top:animateTop,left:animateLeft,marginLeft:-(instance.options.width/2),marginTop:-(instance.options.height/2)},this.options.effectDuration,this.options.effectEasing,function(){instance.element.children().show('fade',50);instance._onOpen();});},_animatePopClose:function(endSettings){var instance=this;this.element.children().hide();this.element.css({position:'absolute',top:this.element.position().top+parseInt(this.element.css('marginTop')),left:this.element.position().left+parseInt(this.element.css('marginLeft')),margin:0}).animate({opacity:.5,top:endSettings.offset.top+(endSettings.height/2),left:endSettings.offset.left+(endSettings.width/2),width:0,height:0},this.options.effectCloseDuration,this.options.effectCloseEasing,function(){instance._onClose();});},disableOk:function(){this.options.buttonOkEnabled=false;this.buttonOkElement.addClass('inactive');},enableOk:function(){this.options.buttonOkEnabled=true;this.buttonOkElement.removeClass('inactive');},_bindListeners:function(){var instance=this;$(this.closeElement).bind('click',function(e){e.preventDefault();instance.close();});$(this.buttonCancelElement).bind('click',function(e){e.preventDefault();instance.close();});$(this.buttonOkElement).bind('click',function(e){e.preventDefault();if(instance.options.buttonOkEnabled===false)return false;if(instance.options.onConfirm.call(instance.element,{caller:instance.callerElement,content:instance.contentElement})!==false){instance.close();};});},center:function(ele){if(ele===undefined){var ele=this.element;}
ele.css({position:'fixed',top:'50%',left:'50%',marginLeft:-(ele.width()/2),marginTop:-(ele.height()/2)});},update:function(options){var _self=this;$.each(options,function(k,v){_self.k=v;});}};$.fn.gummPopupA=function _gummPopupInit(options,callback){this.each(function(){var instance=$.data(this,'gummPopup');if(instance){instance.update(options);}else{$(this).bind('click',{gummPopupOptions:options},function(e){e.preventDefault();var options=e.data.gummPopupOptions;if(options===undefined)options={};if(options.url===undefined)options.url=$(this).attr('href');$.data(this,'gummPopup',new $.gummPopup(options,callback,this));});}});return this;}
$.gummQuickLaunch=function gummQuickLaunch(options,callback,element){this.element=$(element);this.__construct(options);}
$.gummQuickLaunch.settings={width:'parent',height:'parent',items:'.quickLaunchItem',navBar:'.quickLaunchNavBar',navBack:'.quickLaunchBackButton',viewTitle:'.quickLaunchViewTitle',contentPointer:'.quickLaunchContentPointer',contentPointerInvert:'.quickLaunchContentPointerInvert',itemContent:'.quickLaunchItemContent',itemIcon:'.quickLaunchIcon',itemTitle:'.quickLaunchItemTitle',allowItemSelect:false,_itemNavigateContentClass:'ql-navigate-content',_itemNavigateViewClass:'ql-navigate-view',_itemNavigateNone:'ql-navigate-none',_qlViewClass:'quickLaunchView',_qlSecondaryViewClass:'quickLaunchSecondaryView',_qlViewPortClass:'quickLaunchViewPort',_qlViewsContainerClass:'quickLaunchViews',_qlItemActiveClass:'ql-item-active',slideDuration:250,slideEasing:'easeInCirc',navigateDuration:350,navigateEasing:'easeInCubic'};$.gummQuickLaunch.prototype={_state:'view',_activeItem:{itemElement:null,contentElement:null},activeView:'first',__construct:function(options){this.options=$.extend(true,{},$.gummQuickLaunch.settings,options);this.titleElement=this.element.find(this.options.viewTitle);var theTitleEleSpan=this.titleElement.children('span');theTitleEleSpan.css({position:'absolute',display:'block',width:theTitleEleSpan.width(),height:theTitleEleSpan.height(),left:theTitleEleSpan.position().left});this.navBarElement=this.element.find(this.options.navBar);this.navBackElement=this.element.find(this.options.navBack);this.navBackElement.css({display:'block',opacity:0});this.navBackElement.data('gummQuickLaunchOriginDimensions',{left:this.navBackElement.position().left});this.navBackElement.css({left:theTitleEleSpan.position().left+10});this._initViewPort();this._bindListeners();},_initViewPort:function(){this.firstViewElement=this.element.find('.'+this.options._qlViewClass).eq(0);this.secondaryViewElement=this._createSecondaryView();this.viewsElements=this.element.find('.'+this.options._qlViewClass);this.activeViewIndex=0;var width=(this.options.width=='parent')?this.element.parent().width():this.options.width;var height=(this.options.height=='parent')?this.element.parent().height():this.options.height;height-=this.navBarElement.outerHeight();this.options.width=width;this.options.height=height;this.viewPortElement=$('<div class="'+this.options._qlViewPortClass+'"></div>');this.viewPortElement.css({position:'relative',width:width,overflowX:'hidden',overflowY:'auto',height:height});this.viewsContainerElement=$('<div class="'+this.options._qlViewsContainerClass+'"></div>');this.viewsContainerElement.css({position:'absolute',top:0,left:0,width:this.viewsElements.outerWidth()*this.viewsElements.size()});this.viewsContainerElement.append(this.viewsElements);this.viewsElements.css({position:'relative',float:'left',width:this.viewPortElement.width(),overflow:'hidden'});this.viewPortElement.append(this.viewsContainerElement);this.element.append(this.viewPortElement);},_createSecondaryView:function(){var qlSecondaryView=this.element.children('.'+this.options._qlSecondaryViewClass).eq(0);if(qlSecondaryView.size()>0)return qlSecondaryView;qlSecondaryView=$('<div class="'+this.options._qlSecondaryViewClass+' '+this.options._qlViewClass+'">SECOND</div>');qlSecondaryView.css({width:this.firstViewElement.width(),opacity:0});this.firstViewElement.after(qlSecondaryView);return qlSecondaryView;},_getItemPart:function(itemEle,partKey){var part=null;if($(itemEle).data('gummQuickLaunchItemParts')===undefined){var theContent=$(itemEle).parents('.quickLaunchRow:first').find(itemEle.attr('href'));var theIcon=$(itemEle).find(this.options.itemIcon);var thePointer=$(theContent).find(this.options.contentPointer);var thePointerInvert=$(theContent).find(this.options.contentPointerInvert);var theTitle=$(itemEle).find(this.options.itemTitle);var theContentRow=$(itemEle).parents('.quickLaunchRowContentsWrap:first');var siblings=$(itemEle).parents('.'+this.options._qlViewClass).eq(0).find(this.options.items).not(itemEle);var parts={content:theContent,icon:theIcon,pointer:thePointer,pointerInvert:thePointerInvert,title:theTitle,contentRow:theContentRow,siblings:siblings};$(itemEle).data('gummQuickLaunchItemParts',parts);}else{var parts=$(itemEle).data('gummQuickLaunchItemParts');}
$.each(parts,function(k,v){if(k==partKey){part=v;return;}});return $(part);},openItem:function(itemEle){var itemEle=$(itemEle);if(this.options.allowItemSelect===true){if(this._activeItem.itemElement){this._activeItem.itemElement.removeClass(this.options._qlItemActiveClass);}
itemEle.addClass(this.options._qlItemActiveClass);}
if(itemEle.hasClass(this.options._itemNavigateContentClass)){this._openItemContent(itemEle);}else if(itemEle.hasClass(this.options._itemNavigateViewClass)){this._openItemView(itemEle.attr('href'));}else if(itemEle.hasClass(this.options._itemNavigateNone)){var theContent=this._getItemPart(itemEle,'content');this._activeItem.itemElement=itemEle;this._activeItem.contentElement=theContent;}else{}},_openItemContent:function(itemEle){var instance=this;var theContent=this._getItemPart(itemEle,'content');this._state='active';this._activeItem.itemElement=itemEle;this._activeItem.contentElement=theContent;var thePointer=this._getItemPart(itemEle,'pointer');var theIcon=this._getItemPart(itemEle,'icon');if(thePointer.size()>0&&theIcon.size()>0){thePointer.css({left:theIcon.position().left+((theIcon.outerWidth()+parseInt(theIcon.css('marginLeft'))+parseInt(theIcon.css('marginRight')))/2)-(thePointer.width()/2)+parseInt(theContent.children('.quickLaunchContentWrap:first').css('border-top-width'))});}
var thePointerInvert=this._getItemPart(itemEle,'pointerInvert');if(thePointerInvert.size()>0&&thePointer.size()>0){thePointerInvert.css({top:'auto',left:parseInt(thePointer.css('left'))}).show();}
this._getItemPart(itemEle,'title').stop(true,true).hide();theContent.stop().css({opacity:0,display:'block'});if(theContent.data('gummQuickLaunchDimension')===undefined){theContent.data('gummQuickLaunchDimension',{height:theContent.outerHeight(),top:theIcon.offset().top+theIcon.outerHeight()+10-theContent.offset().top});}
var height=0;if(theContent.data('gummQuickLaunchStepDimensions')!==undefined&&theContent.data('gummQuickLaunchStepDimensions')){height=theContent.data('gummQuickLaunchStepDimensions').height;}
theContent.css({top:theContent.data('gummQuickLaunchDimension').top,height:height,opacity:1,marginBottom:theContent.data('gummQuickLaunchDimension').top});this._getItemPart(itemEle,'siblings').stop().animate({opacity:.4},150);theContent.animate({height:theContent.data('gummQuickLaunchDimension').height},{duration:this.options.slideDuration,easing:this.options.slideEasing,step:function(){if($(this).height()>=(thePointer.height()+70)&&thePointerInvert.is(':visible')){thePointerInvert.hide();}
var bottomScrollMargin=($(this).offset().top+$(this).height())-(instance.viewPortElement.offset().top+instance.viewPortElement.height());if(bottomScrollMargin>0){instance.viewPortElement.scrollTop(instance.viewPortElement.scrollTop()+bottomScrollMargin);}},complete:function(){thePointerInvert.hide();$(this).height('auto');$(this).trigger('gummVisible');}});},_closeActiveItemContent:function(){var instance=this;this._state='view';var thePointer=this._getItemPart(this._activeItem.itemElement,'pointer');var thePointerInvert=this._getItemPart(this._activeItem.itemElement,'pointerInvert');thePointerInvert.show();this._activeItem.contentElement.stop().animate({height:0},{duration:this.options.slideDuration,easing:this.options.sldeEasing,step:function(){if($(this).height()<=thePointerInvert.height()&&thePointerInvert.is(':visible')){thePointerInvert.css({top:thePointer.position().top});}
$(this).data('gummQuickLaunchStepDimensions',{height:$(this).height()});},complete:function(){$(this).data('gummQuickLaunchStepDimensions',false);$(this).css({display:'none'});instance._getItemPart(instance._activeItem.itemElement,'title').show('fade',150);instance._getItemPart(instance._activeItem.itemElement,'siblings').stop().animate({opacity:1},250);thePointerInvert.hide();}});},_openItemView:function(url){var instance=this;this._state='step';this.secondaryViewElement.load(url,function(responseText,textStatus,XMLHttpRequest){var titleElement=$(this).children('.quickLaunchViewTitle');$(this).attr('title',titleElement.attr('title'));titleElement.remove();$(this).find(instance.options.items).each(function(i,ele){instance._bindItemListeners($(ele));});instance._navigate(instance.secondaryViewElement.index());});},_navigate:function(viewIndex){if(viewIndex===undefined||viewIndex<0)return;var instance=this;var theElement=$(this.viewsElements[viewIndex]);var currIndex=this._activeView().index();$(this.viewsElements).animate({opacity:0},this.options.navigateDuration);theElement.stop().css({opacity:1});this._navigateHeader(viewIndex,this._activeView().attr('title'),theElement.attr('title'));var goToLeft=0;if(viewIndex<currIndex){goToLeft=theElement.position().left;}else{goToLeft=this.viewsContainerElement.position().left-theElement.position().left;}
this.viewsContainerElement.animate({left:goToLeft},this.options.navigateDuration,this.options.navigateEasing,function(){$(instance.viewsElements).height(theElement.height());theElement.height('auto');instance._state='view';});this._activeView(theElement);},_navigateHeader:function(viewIndex,oldTitle,newTitle){var instance=this;var titleEle=this.titleElement.children('span').last();var titleClone=titleEle.clone();titleClone.text(newTitle).css({width:'auto',opacity:1});titleEle.after(titleClone);titleClone.width(titleClone.width());var titleEleAnimateTo=0;var titleCloneInit=0;if(viewIndex==0){this.navBackElement.stop().animate({left:this.titleElement.width()/2-titleClone.width()/2+10,opacity:0},this.options.navigateDuration,this.options.navigateEasing);titleCloneInit=this.navBackElement.position().left;titleElementAnimateTo=this.titleElement.width()-titleEle.width();}else{this.navBackElement.children('span').text(oldTitle);instance.navBackElement.stop().animate({left:instance.navBackElement.data('gummQuickLaunchOriginDimensions').left,opacity:1},this.options.navigateDuration,this.options.navigateEasing);titleCloneInit=this.titleElement.width()-titleEle.width();titleElementAnimateTo=instance.navBackElement.data('gummQuickLaunchOriginDimensions').left;}
titleClone.css({opacity:0,left:titleCloneInit});titleClone.animate({left:this.titleElement.width()/2-titleClone.width()/2,opacity:1},this.options.navigateDuration,this.options.navigateEasing);titleEle.animate({left:titleElementAnimateTo,opacity:0},this.options.navigateDuration,this.options.navigateEasing,function(){$(this).remove();});},_activeView:function(view){if(view!==undefined){this.activeView=view;}else{if(this.activeView=='first')this.activeView=this.firstViewElement;}
return this.activeView;},_bindListeners:function(){var instance=this;$(this.options.items).each(function(i,ele){instance._bindItemListeners($(ele));});this.element.bind('click',function(e){var target=$(e.target);var cancelItem=target.parents(instance.options.itemContent).eq(0);if(cancelItem.size()<1&&instance._state=='active'){e.stopPropagation();instance._closeActiveItemContent();}});this.navBackElement.bind('click',function(e){instance._navigate(instance._activeView().index()-1);});},_bindItemListeners:function(itemEle){var instance=this;$(itemEle).bind('click',function(e){e.preventDefault();if(instance._state=='view'){e.stopPropagation();instance.openItem($(this));}});},getActiveItemContent:function(){return this._activeItem.contentElement;}}
$.fn.gummQuickLaunch=function _gummQuickLaunchInit(options,callback){var returnData=false;this.each(function(){var instance=$.data(this,'gummQuickLaunch');if(instance){switch(options){case'option':instance.update(options);break;case'getActiveItemContent':returnData=instance.getActiveItemContent();break;}}else{$.data(this,'gummQuickLaunch',new $.gummQuickLaunch(options,callback,this));}});return(returnData===false)?this:returnData;}
window.gummGoogleMapObjectsQueue=[];window.gummGoogleMapOnLoadCallback=function gummGoogleMapOnLoadCallback(){try{$(document).data('gummGoogleMapScriptInitialized',true);$.each(window.gummGoogleMapObjectsQueue,function(i,gummGmapObject){gummGmapObject.__initialize();});}catch(err){}}
$.gummGoogleMap=function gummGoogleMap(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummGoogleMap.settings={width:'auto',height:'auto',sensor:true,zoom:12,center:{lat:42.13627,lng:24.76276},marker:false,mapType:'roadmap',controls:{pan:false,scale:false,streetView:true,overviewMap:false,zoom:true},scrollwheel:true,controlOptions:{zoomControlOptions:{style:'SMALL'},streetViewControlOptions:{position:'TOP_LEFT'}},editor:false,useEditorInputsToInit:false,editorAddressInput:'.gmaps-address-input',editorDropPinButton:'.gmaps-drop-marker',editorRemovePinButton:'.gmaps-remove-marker',editorLatLngInput:'.gmaps-latlng-input',editorZoomInput:'.gmaps-zoom-input',editorMarkerInput:'.gmaps-marker-input',editorMapTypeInput:'.gmaps-maptype-input'}
$.gummGoogleMap.prototype={element:null,editorElement:null,editorAddressElement:null,editorDropPinElement:null,editorRemovePinElement:null,editorLatLngInput:null,_initialized:false,map:null,marker:null,_mapOptions:null,geocoder:null,__construct:function(options,callback){this.options=$.extend(true,{},$.gummGoogleMap.settings,options);console.log(this.element.data());if(this.element.data('lat')!==undefined){this.options.center.lat=this.element.data('lat');}
if(this.element.data('lng')!==undefined){this.options.center.lng=this.element.data('lng');}
if(this.element.data('zoom')!==undefined){this.options.zoom=this.element.data('zoom');}
if(this.element.data('markerlat')!==undefined&&this.element.data('markerlng')!==undefined){this.options.marker={lat:this.element.data('markerlat'),lng:this.element.data('markerlng'),}}
if(this.element.data('scrollwheel')!==undefined){this.options.scrollwheel=Boolean(this.element.data('scrollwheel'));}
if(this.options.width!=='auto')this.element.width(this.options.width);if(this.options.height!=='auto')this.element.height(this.options.height);if($(document).data('gummGoogleMapScriptInit')!==true){window.gummGoogleMapObjectsQueue.push(this);var sensor=(this.options.sensor===true)?'true':'false';var script=document.createElement("script");script.type="text/javascript";script.src="http://maps.googleapis.com/maps/api/js?sensor="+sensor+"&callback=gummGoogleMapOnLoadCallback";document.body.appendChild(script);$(document).data('gummGoogleMapScriptInit',true);}else if($(document).data('gummGoogleMapScriptInitialized')===true){this.__initialize();}else{window.gummGoogleMapObjectsQueue.push(this);}},__initialize:function(){var instance=this;if(!this.element.is(':visible')&&!this._initialized){this.element.parents(':hidden').last().bind('gummVisible',function(e){instance.__initialize();});return;}else if(!this.element.is(':visible')||this._initialized){return;}
this._initialized=true;this.map=new google.maps.Map(this.element.get(0),this.mapOptions());if(this.options.marker){this.dropMarker(new google.maps.LatLng(parseFloat(this.options.marker.lat),parseFloat(this.options.marker.lng)));}
if(this.options.editor!==false){this.editorElement=this.element.parents(this.options.editor).eq(0);this.editorAddressElement=this.editorElement.find(this.options.editorAddressInput);this.editorDropPinElement=this.editorElement.find(this.options.editorDropPinButton);this.editorRemovePinElement=this.editorElement.find(this.options.editorRemovePinButton);this.editorLatLngInput=this.editorElement.find(this.options.editorLatLngInput);this.editorZoomInput=this.editorElement.find(this.options.editorZoomInput);this.editorMarkerInput=this.editorElement.find(this.options.editorMarkerInput);this.editorMapTypeIdInput=this.editorElement.find(this.options.editorMapTypeInput);this._bindEditorListeners();if(this.options.useEditorInputsToInit===true){var zoom=this.editorZoomInput.val();var center=this.editorLatLngInput.val();var marker=this.editorMarkerInput.val();var mapType=this.editorMapTypeIdInput.val();if(zoom>0){this.map.setZoom(parseInt(zoom));}
if(center.length>0){var latLngArr=center.split(',');if(latLngArr.length==2){this.map.setCenter(new google.maps.LatLng(parseFloat(latLngArr[0]),parseFloat(latLngArr[1])));}}
if(marker.length>0){var latLngArr=marker.split(',');if(latLngArr.length==2){var latLng=new google.maps.LatLng(parseFloat(latLngArr[0]),parseFloat(latLngArr[1]));this.dropMarker(latLng);}}
if(mapType.length>0){var mapTypeId=google.maps.MapTypeId.ROADMAP;switch(mapType.toLowerCase()){case'satellite':mapTypeId=google.maps.MapTypeId.SATELLITE;break;case'hybrid':mapTypeId=google.maps.MapTypeId.HYBRID;break;case'terrain':mapTypeId=google.maps.MapTypeId.TERRAIN;break;}
this.map.setMapTypeId(mapTypeId);}}}
this._bindListeners();},mapOptions:function(options){if(options!==undefined)this._mapOptions=options
if(!this._mapOptions){var mapTypeId=google.maps.MapTypeId.ROADMAP;switch(this.options.mapType.toLowerCase()){case'roadmap':break;case'satellite':mapTypeId=google.maps.MapTypeId.SATELLITE;break;case'hybrid':mapTypeId=google.maps.MapTypeId.HYBRID;break;case'terrain':mapTypeId=google.maps.MapTypeId.TERRAIN;break;}
$.each(this.options.controlOptions,function(k,v){if(v.position!==undefined){switch(v.position){case'TOP_LEFT':v.position=google.maps.ControlPosition.TOP_LEFT;break;case'LEFT_TOP':v.position=google.maps.ControlPosition.LEFT_TOP;break;}}});this._mapOptions=$.extend(true,{zoom:this.options.zoom,center:new google.maps.LatLng(this.options.center.lat,this.options.center.lng),mapTypeId:mapTypeId,panControl:this.options.controls.pan,zoomControl:this.options.controls.zoom,mapTypeControl:this.options.controls.mapType,scaleControl:this.options.controls.scale,streetViewControl:this.options.controls.streetView,overviewMapControl:this.options.controls.overviewMap,scrollwheel:this.options.editor!==false?false:this.options.scrollwheel},this.options.controlOptions);}
return this._mapOptions;},centerMap:function(LatLng){this.map.panTo(LatLng);},dropMarker:function(pos){if(pos===undefined)var pos=this.map.getCenter();if(this.marker==null){this.marker=new google.maps.Marker({map:this.map,draggable:Boolean(this.options.editor),animation:google.maps.Animation.DROP,position:pos});this._bindEditorMarkerListeners(this.marker);}else{this.marker.setPosition(this.map.getCenter());}
var c=this.marker.getPosition();if(this.options.editor){this.editorMarkerInput.val(c.lat()+','+c.lng());}},removeMarker:function(marker){if(marker===undefined)marker=this.marker;marker.setMap(null);this.marker=null;this.editorMarkerInput.val('');},getGeocoder:function(){if(!this.geocoder){this.geocoder=new google.maps.Geocoder();}
return this.geocoder;},_bindListeners:function(){var instance=this;},_bindEditorListeners:function(){var instance=this;this.editorAddressElement.autocomplete({source:function(request,response){instance.getGeocoder().geocode({'address':request.term},function(results,status){response($.map(results,function(item){return{label:item.formatted_address,value:item.formatted_address,location:item.geometry.location};}));});},select:function(event,ui){instance.centerMap(ui.item.location);}});this.editorDropPinElement.bind('click',function(e){e.preventDefault();instance.dropMarker();});this.editorRemovePinElement.bind('click',function(e){e.preventDefault();instance.removeMarker();});google.maps.event.addListener(this.map,'center_changed',function(){var c=instance.map.getCenter();instance.editorLatLngInput.val(c.lat()+','+c.lng());});google.maps.event.addListener(this.map,'zoom_changed',function(){instance.editorZoomInput.val(instance.map.getZoom());});google.maps.event.addListener(this.map,'maptypeid_changed',function(){instance.editorMapTypeIdInput.val(instance.map.getMapTypeId());});},_bindEditorMarkerListeners:function(marker){var instance=this;google.maps.event.addListener(marker,'position_changed',function(){var c=marker.getPosition();instance.editorMarkerInput.val(c.lat()+','+c.lng());});}}
$.gummGoogleMapEditor=function gummGoogleMapEditor(map,editor){this.map=map;this.editor=editor;this.__construct();}
$.gummGoogleMapEditor.prototype={__construct:function(){},createTrash:function(){},_bindListeners:function(){}}
$.fn.gummGoogleMap=function gummGoogleMapInit(options,callback){this.each(function(){var instance=$.data(this,'gummGoogleMap');if(instance){}else{$.data(this,'gummGoogleMap',new $.gummGoogleMap(options,callback,this));}});return this;}
$.gummRotatable=function gummRotatable(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummRotatable.settings={button:'.rotate-button',step:2,snap:true,start:function(){},stop:function(){}}
$.gummRotatable.prototype={state:'default',centerX:null,centerY:null,radius:null,originX:null,originY:null,currAngle:0,moveCounter:0,__construct:function(options,callback){this.options=$.extend(true,{},$.gummRotatable.settings,options);this.button=this.element.find(this.options.button);this._bindListeners();},rotate:function(x,y){var eleX=this.originX;this.element.offset().left;var eleY=this.originY;this.element.offset().top;var c=Math.round(this.radius);var a=Math.round(Math.sqrt(Math.pow((eleX-x),2)+Math.pow((y-eleY),2)));var tmp=this.centerX-x;var b=Math.round(Math.sqrt(Math.pow((y-this.centerY),2)+Math.pow(tmp,2)));var cos=(c*c+b*b-a*a)/(2*b*c);var angle=Math.acos(cos)*180/Math.PI;var quad=this.getQuadrantOfRotation(x,y);if(quad==2||quad==3){if(x<(this.originX+this.element.outerWidth())){angle=360-angle;}}else if(quad==4){if(x<(this.originX)){angle=360-angle;}}
if(angle>180&&(quad==3||quad==4)){if(x<this.initX){}}
if(this.options.snap==true){angle=this.getSnapAngle(angle);}
this.element.css({rotate:angle+'deg'});this.initX=x;this.initY=y;this.currAngle=angle;},getQuadrantOfRotation:function(cursorX,cursorY){var quad=false;if(cursorX>this.centerX&&cursorY<this.centerY){quad=1;}else if(cursorX>this.centerX&&cursorY>this.centerY){quad=2;}else if(cursorX<this.centerX&&cursorY>this.centerY){quad=3;}else if(cursorX<this.centerX&&cursorY<this.centerY){quad=4;}
return quad;},getSnapAngle:function(angle){if((355<angle&&365>angle)){angle=this.currAngle=0;}else if(-10<angle&&5>angle)angle=0;else if(20<angle&&30>angle)angle=25;else if(40<angle&&50>angle)angle=45;else if(80<angle&&100>angle)angle=90;else if(170<angle&&190>angle)angle=180;return angle;},stop:function(){var deg=this.currAngle;if(this.options.snap)deg=this.getSnapAngle(deg);this.options.stop.call(this,deg);},_bindListeners:function(){var _self=this;this.button.click(function(e){e.preventDefault();});this.button.bind('mouseup',function(e){if(_self.state==='resize'){_self.state='default';}});this.button.bind('mousedown',function(e){e.preventDefault();if(_self.state==='default'){_self.options.start.call(_self.element);e.stopPropagation();_self.state='resize';_self.initX=e.pageX;_self.initY=e.pageY;if(_self.originX===null)
_self.originX=_self.element.offset().left;if(_self.originY===null)
_self.originY=_self.element.offset().top;if(!_self.centerX||!_self.centerY){_self.centerX=_self.element.offset().left+(_self.element.width()/2);_self.centerY=_self.element.offset().top+(_self.element.height()/2);}
_self.radius=(Math.sqrt(Math.pow(_self.element.width(),2)+Math.pow(_self.element.height(),2)))/2;}});$('body').mousemove(function(e){if(_self.state!=='resize')return;_self.rotate(e.pageX,e.pageY);});$('body').mouseup(function(e){if(_self.state==='resize'){_self.state='default';_self.stop();}});}}
$.fn.rotatable=function gummRotatableInit(options,callback){this.each(function(){var instance=$.data(this,'gummRotatable');if(instance){}else{$.data(this,'gummRotatable',new $.gummRotatable(options,callback,this));}});return this;}
$.gummTabs=function gummTabs(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummTabs.settings={titlesContainer:'.nav-tabs',titleItems:'.tab',contentsContainer:'.tab-content',contentItems:'.tab-pane',activeClass:'active',openOn:'click'}
$.gummTabs.prototype={pointerItem:null,__construct:function(options,callback){var _self=this;this.options=$.extend(true,{},$.gummTabs.settings,options);this.titlesContainer=this.element.children(this.options.titlesContainer);this.titleItems=this.titlesContainer.children(this.options.titleItems);this.contentsContainer=this.element.children(this.options.contentsContainer);this.contentItems=this.contentsContainer.children(this.options.contentItems);this.activeTabTitle=this.titleItems.filter('.'+this.options.activeClass);if(this.activeTabTitle.size()<1){this.activeTabTitle=this.titleItems.filter(':first');}
this.openTab(this.activeTabTitle.index());if(this.options.openOn=='hover'){this.pointerItem=this.titleItems.filter(':not(.'+this.options.activeClass+')').eq(0).clone();this.pointerItem.addClass(this.options.activeClass);this.pointerItem.css({display:'none',position:'absolute'});this.pointerItem.children().text('');this.titlesContainer.append(this.pointerItem);}
this._bindListeners();},openTab:function(index){var theTabTitle=this.titleItems.eq(index);var theTabContents=this.contentItems.eq(index);if(theTabTitle.index()==this.activeTabTitle.index())return;if(this.options.openOn=='hover'&&this.pointerItem){var thePointer=this.pointerItem;var thePointerLink=thePointer.children('a');var theDestLink=theTabTitle.children('a');thePointer.css({display:'block'});}else{this.closeTab(this.activeTabTitle.index());theTabTitle.addClass(this.options.activeClass);theTabContents.show('fade');}
this.activeTabTitle=theTabTitle;},openTabHover:function(index){},closeTab:function(index){var theTabTitle=this.titleItems.eq(index);var theTabContents=this.contentItems.eq(index);theTabTitle.removeClass(this.options.activeClass);theTabContents.hide('fade');},getTab:function(tabIndex){return $(this.titleItems).eq(index);},getContentForTab:function(tab){var index=tab;if(typeof(tab)!='number'){index=$(tab).index();}
return $(this.contentItems).eq(index);},_bindListeners:function(){var _self=this;this.titleItems.bind('click',function(e){e.preventDefault();_self.openTab($(this).index());});if(this.options.openOn=='hover'){this.titleItems.bind('mouseenter',function(e){_self.openTab($(this).index());});}}}
$.fn.gummTabs=function initGummTabs(options,callback){this.each(function(){var instance=$.data(this,'gummTabs');if(instance){}else{$.data(this,'gummTabs',new $.gummTabs(options,callback,this));}});return this;}
$.gummAccordion=function gummAccordion(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummAccordion.settings={items:'li',titles:'h3',contents:'.accordion-content',activeClass:'ui-state-active',defaultClass:'ui-state-default',speed:500,easingOpen:'easeInOutExpo',easingClose:'easeInOutExpo'}
$.gummAccordion.prototype={items:null,titleElements:null,contentElements:null,activeItem:null,activeIndex:null,animating:false,initialized:false,__construct:function(options,callback){var _self=this;this.options=$.extend(true,{},$.gummAccordion.settings,options);this.titleElements=this.element.find(this.options.titles);this.contentElements=this.element.find(this.options.contents);this._initialize();this._bindListeners();},_initialize:function(){var _self=this;if(this.initialized===true){return false;}
if(this.element.is(':visible')){this.initialized=true;}
this.titleElements.each(function(i,ele){var elementContent=$(ele).next();elementContent.css('height','');elementContent.data('originHeight',$(elementContent).outerHeight());elementContent.css({overflow:'hidden'});if(!$(ele).hasClass(_self.options.activeClass)){elementContent.css({display:'block',height:0});}else{_self.activeItem=$(ele);}});},_open:function(titleEle){if(this.animating===true)return;if(!this.initialized)this._initialize();this.animating=true;var elementContent=titleEle.next();var _self=this;if(titleEle.hasClass(this.options.activeClass)){elementContent.animate({height:0},this.options.speed,this.options.easingOpen,function(){_self.animating=false;});titleEle.removeClass(this.options.activeClass);titleEle.children('.accordion-button').removeClass('icon-minus').addClass('icon-plus');_self.activeItem=null;}else{if(_self.activeItem){_self.activeItem.next().animate({height:0},this.options.speed,this.options.easingClose);_self.activeItem.removeClass(_self.options.activeClass).children('.accordion-button').removeClass('icon-minus').addClass('icon-plus');}
titleEle.addClass(_self.options.activeClass).children('.accordion-button').removeClass('icon-plus').addClass('icon-minus');elementContent.animate({height:elementContent.data('originHeight')},this.options.speed,this.options.easingOpen,function(){_self.animating=false;_self.activeItem=titleEle;});}},_bindListeners:function(ele){var _self=this;this.titleElements.on('click',function(e){e.preventDefault();_self._open($(this));});}}
$.fn.gummAccordion=function _gummAccordionInit(options,callback){this.each(function(){var instance=$.data(this,'gummAccordion');if(instance){}else{$.data(this,'gummAccordion',new $.gummAccordion(options,callback,this));}});return this;}
$.gummSwitch=function gummSwitch(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummSwitch.settings={on:true,speed:150,easing:'linear',backgroundAnimateTo:'-43px 0',change:function(){}}
$.gummSwitch.prototype={tabs:false,tabOn:false,tabOff:false,__construct:function(options,callback){this.options=$.extend({},$.gummSwitch.settings,options);this.on=this.options.on;this._bindListeners();},switchOn:function(){this.on=true;this.element.stop().animate({backgroundPosition:'0 0'},this.options.speed,this.options.easing);},switchOff:function(){this.on=false;this.element.stop().animate({backgroundPosition:this.options.backgroundAnimateTo},this.options.speed,this.options.easing);},_bindListeners:function(){var instance=this;this.element.bind('click',function(e){e.preventDefault();if(instance.on){instance.switchOff();}else{instance.switchOn();}
instance.options.change.apply(instance.element,[instance.on]);});}}
$.fn.gummSwitch=function _gummSwitchInit(options,callback){this.each(function(){var instance=$.data(this,'gummSwitch');if(instance){}else{$.data(this,'gummSwitch',new $.gummSwitch(options,callback,this));}});return this;}
$.gummTwitterFlip=function gummTwitterFlip(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummTwitterFlip.settings={container:'.roki-tweet-content',items:'div',start:0}
$.gummTwitterFlip.prototype={currentIndex:0,items:null,__construct:function(options,callback){var _self=this;this.options=$.extend(true,{},$.gummTwitterFlip.settings,options);this.containerElement=this.element.find(this.options.container);this.element.removeClass('loading');this.items=_self.containerElement.children(_self.options.items);this.setupOrder();this._bindListeners();},load:function(){var _self=this;this.containerElement.load(this.sourceUrl,function(){_self.element.removeClass('loading');_self.items=_self.containerElement.children(_self.options.items);_self.setupOrder();_self._bindListeners();});},setupOrder:function(){this.active=this.items.eq(this.currentIndex);var nextIndex=(this.currentIndex==(this.items.length-1))?0:this.currentIndex+1;this.next=this.items.eq(nextIndex);this.next.addClass('tocome');},_bindListeners:function(ele){var _self=this;this.element.on('click',function(e){return;_self.next.addClass('come animating');_self.active.addClass('go animating');_self.containerElement.css({height:_self.active.height()});_self.containerElement.animate({height:_self.next.height()},300,function(){$(this).css({height:'auto'});});_self.active.on('transitionend MSTransitionEnd webkitTransitionEnd oTransitionEnd',function(e){_self.active.unbind('transitionend MSTransitionEnd webkitTransitionEnd oTransitionEnd');_self.active.unbind('remoooveeeYAAA');_self.active.removeClass('go active animating').addClass('inactive');_self.next.removeClass('tocome come inactive animating').addClass('active');_self.currentIndex=_self.next.index();_self.setupOrder(true);});});}}
$.fn.gummTwitterFlip=function gummTwitterFlipFn(options,callback){this.each(function(){var instance=$.data(this,'gummTwitterFlip');if(instance){}else{$.data(this,'gummTwitterFlip',new $.gummTwitterFlip(options,callback,this));}});return this;}
$.gummMagnifyingGlass=function(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummMagnifyingGlass.settings={width:200,height:200,overflowElements:''}
$.gummMagnifyingGlass.prototype={largeUrl:null,glass:null,originWidth:null,originHeight:null,nativeWidth:null,nativeHeight:null,originTop:null,originLeft:null,initialized:false,smallLoaded:false,largeLoaded:false,__construct:function(options,callback){var _self=this;this.options=$.extend(true,{},$.gummMagnifyingGlass.settings,options);this.img=this.element.children('img');this.largeUrl=this.element.attr('href');this.overflowElements=$(this.options.overflowElements);var smallImgHelper=new Image();smallImgHelper.src=this.img.attr('src');$(smallImgHelper).onImagesLoaded(function(_img){this.originWidth=this.img.width();this.originHeight=this.img.height();this.originTop=this.img.offset().top;this.originLeft=this.img.offset().left;this.smallLoaded=true;if(this.largeLoaded===true&&this.initialized===false){this.initialize();}},this);var imgHelper=new Image();imgHelper.src=this.largeUrl;$(imgHelper).onImagesLoaded(function(_img){this.nativeWidth=_img.width;this.nativeHeight=_img.height;this.largeLoaded=true;if(this.smallLoaded===true&&this.initialized===false){this.initialize();}},this);},initialize:function(){if(this.initialized)return;this.initialized=true;this.element.addClass('magnifying-glass-helper');this.element.css({position:'relative',display:'block'});this.glass=$('<div class="magnifying-glass"></div>');this.glass.css({position:'absolute',display:'none',zIndex:10,overflow:'visible',width:this.options.width,height:this.options.height,backgroundImage:"url('"+this.largeUrl+"')",backgroundRepeat:'no-repeat',webkitBackfaceVisibility:'hidden'});this.element.append(this.glass);this.bindListeners();},bindListeners:function(){var _self=this;this.element.mousemove(function(e){var mx=e.pageX-_self.originLeft;var my=e.pageY-_self.originTop;if(mx<_self.originWidth&&my<_self.originHeight&&mx>0&&my>0){if(!_self.glass.is(':visible')){_self.overflowElements.css({overflow:'hidden'});_self.glass.fadeIn(100);}
var rx=Math.round(mx/_self.originWidth*_self.nativeWidth-_self.options.width/2)*-1;var ry=Math.round(my/_self.originHeight*_self.nativeHeight-_self.options.height/2)*-1;var bgp=rx+"px "+ry+"px";_self.glass.css({backgroundPosition:bgp}).animate({top:my-(_self.options.width/2),left:mx-(_self.options.height/2)},0);}else{_self.overflowElements.css({overflow:'hidden'});_self.glass.fadeOut(100);}});this.element.mouseleave(function(e){_self.overflowElements.css({overflow:'hidden'});_self.glass.fadeOut(100);});this.element.on('click',function(e){e.preventDefault();});}}
$.fn.gummMagnifyingGlass=function initGummMagnifyingGlass(options,callback){this.each(function(){var instance=$.data(this,'gummSlidingDescription');if(instance){}else{$.data(this,'gummMagnifyingGlass',new $.gummMagnifyingGlass(options,callback,this));}});return this;}
$.gummAutocomplete=function gummAutocomplete(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummAutocomplete.settings={minLength:1,timeout:500,icon:'.searchform-icon',iconSearchClass:'icon-spinner icon-spin',iconDefaultClass:'icon-search',iconCloseClass:'icon-remove',beforeFind:function(){}}
$.gummAutocomplete.prototype={state:'default',length:0,val:'',lastVal:'',searchTimeOut:null,popover:null,__construct:function(options,callback){this.options=$.extend(true,{},$.gummAutocomplete.settings,options);this.form=this.element.parent('form');this.icon=this.form.children(this.options.icon);this.ajaxUrl=this.form.attr('action');this.createPopover();this.bindListeners();},createPopover:function(){this.element.popover({trigger:'manual',placement:'bottom',html:true});},getPopoverContent:function(){return $(this.element.data('bs.popover').$tip).find('.popover-content');},getPopoverTitle:function(){return $(this.element.data('bs.popover').$tip).find('.popover-title');},setPopoverTitle:function(title){this.element.attr('data-original-title','<a href="'+this.ajaxUrl+'?s='+this.val+'">'+this.element.data('view-all-title')+'</a>');this.getPopoverTitle().html(title);},setPopoverContent:function(content){this.getPopoverContent().html(content);},find:function(){var _self=this;this.clearTimeOut();if(this.length>=this.options.minLength){if(this.state==='default'){this.options.beforeFind.apply(this,[this.val]);this.icon.removeClass(this.options.iconDefaultClass).removeClass(this.options.iconCloseClass).addClass(this.options.iconSearchClass);}
this.setPopoverTitle('<a href="'+this.ajaxUrl+'?s='+this.val+'">'+this.element.data('view-all-title')+'</a>');this.state='find';this.lastVal=this.val;this.searchTimeOut=setTimeout(function(){_self.getResults();},this.options.timeout);}else{this.end();}},end:function(){this.clearTimeOut();this.state='default';if(this.length>=this.options.minLength){this.icon.removeClass(this.options.iconSearchClass).removeClass(this.options.iconDefaultClass).addClass(this.options.iconCloseClass);}else{this.icon.removeClass(this.options.iconSearchClass).removeClass(this.options.iconCloseClass).addClass(this.options.iconDefaultClass);this.element.popover('hide');}},getResults:function(){var _self=this;$.ajax({url:this.ajaxUrl,data:{gummcontroller:'posts',action:'search',gummparams:[this.val]},success:function(data,textStatus,XMLHttpRequest){if(!$(_self.element.data('bs.popover').$tip).is(':visible')){_self.showPopOver();}
_self.setPopoverContent(data);_self.end();}})},showPopOver:function(){this.element.popover('show');var theTip=this.element.data('bs.popover').$tip;theTip.css({width:this.element.outerWidth()});this.element.popover('show');$(this.element.data('bs.popover').$tip).addClass('gumm-autocomplete-wrapper');},clearTimeOut:function(){try{clearTimeout(this.searchTimeOut);}catch(err){}},bindListeners:function(){var _self=this;this.element.on('keyup',function(e){_self.val=$(this).val();_self.length=_self.val.length;if(_self.length===0){_self.end();}else if(_self.val!==_self.lastVal){_self.find();}});this.element.on('blur',function(e){_self.element.popover('hide');});this.element.on('focus',function(e){if(_self.length===0){_self.end();}else{if(_self.val!==_self.lastVal){_self.find();}}});this.icon.on('click',function(e){if($(this).hasClass(_self.options.iconCloseClass)){_self.val='';_self.length=0;_self.element.val('').trigger('blur');_self.end();}else if($(this).hasClass(_self.options.iconDefaultClass)){_self.element.focus();}});}}
$.fn.gummAutocomplete=function gummAutocompleteFn(options,callback){this.each(function(){var instance=$.data(this,'gummAutocomplete');if(instance){}else{$.data(this,'gummAutocomplete',new $.gummAutocomplete(options,callback,this));}});return this;}
gummbase={name:'Gummbase',popup:{active:false,settings:{css:{width:600,height:538,zIndex:100,display:'none',flash:false},classes:{popupWindow:'gumm-popup-window',popupContent:'popup-content',popupTop:'popup-top-bar',popupBottom:'popup-bottom-bar'},onOkAction:'close',removeOnClose:false,appendTo:$('body')},create:function(options){var settings=$.extend(true,{},gummbase.popup.settings,options);var thePopup=$('<div id="gumm-popup-'+uniqid()+'" class="'+settings.classes.popupWindow+'"></div>');var thePopupClose=$('<a class="close-link close-parent parent-2" href="#"></a>');if(settings.removeOnClose===true)thePopupClose.addClass('remove-on-close');var thePopupTop=$('<div class="'+settings.classes.popupTop+'"></div>');thePopupTop.append(thePopupClose);var thePopupContent=$('<div class="'+settings.classes.popupContent+'"></div>');var thePopupBottom=$('<div class="'+settings.classes.popupBottom+'"></div>');var thePopupCancelButton=$('<a class="link-button cancel" href="#"><span>Cancel</span></a>');if(settings.removeOnClose===true)thePopupCancelButton.addClass('remove-on-close');var thePopupOkButton=$('<a class="link-button save popup-action-'+settings.onOkAction+'" href="#"><span>Ok</span></a>');if(settings.removeOnClose===true)thePopupOkButton.addClass('remove-on-close');thePopupBottom.append(thePopupCancelButton);thePopupBottom.append(thePopupOkButton);thePopup.append(thePopupTop,thePopupContent,thePopupBottom);settings.appendTo.append(thePopup);thePopup.addClass('close-on-body-click').css(settings.css);var theAddedHeightTopBar=parseInt(thePopupTop.css('margin-top'))+parseInt(thePopupTop.css('margin-bottom'))+parseInt(thePopupTop.css('padding-top'))+parseInt(thePopupTop.css('padding-bottom'));var theAddedHeightBottomBar=parseInt(thePopupBottom.css('margin-top'))+parseInt(thePopupBottom.css('margin-bottom'))+parseInt(thePopupBottom.css('padding-top'))+parseInt(thePopupBottom.css('padding-bottom'));var theAddedHeight=theAddedHeightTopBar+theAddedHeightBottomBar+parseInt(thePopup.css('padding-top'))+parseInt(thePopup.css('padding-bottom'));theAddedHeight=theAddedHeight+10;var contentHeight=thePopup.height()-(thePopupTop.outerHeight()+thePopupBottom.outerHeight()+theAddedHeight);thePopup.children('.popup-content').css({height:contentHeight,marginTop:55,overflowY:'scroll'});thePopup.center();thePopup.show('fade',150);thePopup.draggable({handle:'.popup-top-bar'});gummbase.popup.setActive(thePopup);},open:function(triggerEle){var popupSettings=$.extend(true,{},this.settings);if($(triggerEle).hasClass('popup-remove-on-close'))popupSettings.removeOnClose=true;var boundPopup=$(triggerEle).data('boundPopup');if(boundPopup!==undefined&&popupSettings.removeOnClose===false){gummbase.popup.setActive(boundPopup);boundPopup.show('fade',100,function(){gummbase.popup.centerToSelection();});return;}
var classes=$(triggerEle).attr('class');var popupHeight=/popup-height\-(\d+)/g.exec(classes);if(popupHeight!==null)popupSettings.css.height=parseInt(popupHeight[1]);var popupWidth=/popup-width\-(\d+)/g.exec(classes);if(popupWidth!==null)popupSettings.css.width=parseInt(popupWidth[1]);var onOkAction=/popup-onok\-(\w+)/g.exec(classes);if(onOkAction!==null)popupSettings.onOkAction=onOkAction[1];var theSrc=triggerEle.attr('href');if(theSrc.indexOf('#')>-1){popupSettings.appendTo=triggerEle.parent();gummbase.popup.create(popupSettings);gummbase.popup.getActive().data('triggeredBy',triggerEle);var thePopupContent=gummbase.popup.getActive().children('.'+gummbase.popup.settings.classes.popupContent);thePopupContent.append($(theSrc));$(theSrc).show();gummbase.popup.centerToSelection();$(triggerEle).data('boundPopup',gummbase.popup.getActive());}else{$.ajax({url:triggerEle.attr('href'),beforeSend:function(jqXHR,settings){gummbase.popup.create(popupSettings);gummbase.popup.getActive().data('triggeredBy',triggerEle);},success:function(data,textStatus,XMLHttpRequest){gummbase.popup.getActive().children('.'+gummbase.popup.settings.classes.popupContent).append(data);gummbase.popup.centerToSelection();$(triggerEle).data('boundPopup',gummbase.popup.getActive());}});}},close:function(){},centerToSelection:function(){var thePopup=gummbase.popup.getActive();var selectedOption=thePopup.find('.current-option');if(selectedOption.length>0){var thePopupContent=thePopup.children('.'+gummbase.popup.settings.classes.popupContent);thePopupContent.animate({scrollTop:((selectedOption.position().top+selectedOption.height()/2)-gummbase.popup.settings.css.width/2)},400);}},setActive:function(ele){gummbase.popup.active=ele;},getActive:function(){return gummbase.popup.active;}},alert:function(message,settings){var settings=$.extend({type:'info',width:'auto',height:'auto',flash:2000},settings);var theAlert=$('<div class="bluebox-admin"><div class="alert alert-block alert-'+settings.type+'"></div></div>');theAlert.children('.alert').append('<p>'+message+'</p>');theAlert.css({display:'none',height:settings.height,width:settings.width,zIndex:9999});$('body').append(theAlert);theAlert.center().show('fade',150);if(settings.flash===true)settings.flash=1000;if(settings.flash){setTimeout(function(){theAlert.hide('fade',150,function(){theAlert.remove();});},parseInt(settings.flash));}},extract:function(pattern,string){},cookie:{write:function(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString();}
else var expires="";document.cookie=name+"="+value+expires+"; path=/";},read:function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;},destroy:function(name){gummbase.cookie.write(name,"",-1);}}};var currentlyPlaying=false;var queuedPlayer=null;$.bboxSoundPlayer=function(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.bboxSoundPlayer.settings={appendTo:'body',autoplay:false}
$.bboxSoundPlayer.prototype={paused:false,setNewMedia:false,stalled:false,__construct:function(options,callback){this.options=$.extend(true,{},$.bboxSoundPlayer.settings,options,this.element.data());this.player=this.element;this.playerId=uniqid('bboxaup_');this.playerElement=$('<div class="gumm-audio-player-object" id="'+this.playerId+'">');this.descriptionEle=this.element.find('.description');this.imageEle=this.element.find('.track-image');this.currentMedia=this.element.data('src');this.currentlySetMedia=null;this.currentPlaylistIndex=0;this.loadedFiles=[],this.setupThePlaylist();this.player.attr('id',this.playerId+'_controls');this.buttonPlay=this.player.find('a.button-play');this.buttonPause=this.player.find('a.button-pause');this.playBar=this.player.find('.track-progress').children('span');this.buttonNext=this.player.find('a.player-button.forward');this.buttonPrev=this.player.find('a.player-button.backward');this.buttonClose=this.player.find('a.button-close-player');if(this.player.data('playPauseButtonMode')==='toggle'){this.buttonPause=this.buttonPlay.clone();this.buttonPause.addClass('button-pause').removeClass('button-play');this.buttonPause.find('i').removeClass('icon-play').addClass('icon-pause');this.buttonPause.css('display','none');this.buttonPlay.after(this.buttonPause);}
if(this.buttonClose.length>0){this.buttonShow=this.buttonClose.clone();this.buttonShow.removeClass('button-close-player').addClass('button-show-player').find('i').removeClass('icon-remove').addClass('icon-headphones');this.buttonClose.after(this.buttonShow);}
this.playerElement.data('gummAudioPlayerControls',{buttonPause:this.buttonPause,buttonPlay:this.buttonPlay,container:this.player});var _self=this;$(this.options.appendTo).append(this.playerElement);this.playerElement.jPlayer({ready:function(event){if(_self.options.autoplay===true){_self.play();}},errorAlerts:false,solution:'html, flash',swfPath:gummBaseJsUrl+'jplayer/Jplayer.swf',supplied:"mp3",wmode:"window",smoothPlayBar:true,keyEnabled:true,cssSelectorAncestor:'#'+this.playerId+'_controls',cssSelector:{seekBar:'.track-progress',mute:'.button-mute',unmute:'.button-unmute',volumeBar:'.volume-bar',volumeBarValue:'.volume-bar > span',},preload:'none',wmode:"window"});this.bindListeners();},setupThePlaylist:function(){var _self=this;this.playlist=[];var playlistContainer=$(this.element).data('playlistContainer');if(playlistContainer!==undefined){playlistContainer=this.element.find(playlistContainer);playlistContainer.children().each(function(i,ele){var _img=null;if($(ele).data('imgSrc')!==undefined){var _img=$('<img src="'+$(ele).data('imgSrc')+'">');_img.load(function(e){});}
_self.playlist.push({src:$(ele).data('src'),desc:$(ele).html(),img:_img});});}},playNext:function(){var nextIndex=this.currentPlaylistIndex+1;if(nextIndex>=this.playlist.length){nextIndex=0;}
this.playForPlaylistIndex(nextIndex);},playPrev:function(){var nextIndex=this.currentPlaylistIndex-1;if(nextIndex<0){nextIndex=this.playlist.length-1;}
this.playForPlaylistIndex(nextIndex);},playForPlaylistIndex:function(index){var playlistItem=this.playlist[index];this.descriptionEle.html(playlistItem.desc);var htmlImgElement=this.imageEle.children('img');if(playlistItem.img){if(htmlImgElement.size()>0){htmlImgElement.remove();}
this.imageEle.prepend(playlistItem.img);}else{htmlImgElement.remove();}
this.currentPlaylistIndex=index;if(this.currentMedia!==playlistItem.src){this.setNewMedia=true;}
this.currentMedia=playlistItem.src;this.play();},play:function(){if(currentlyPlaying!==false){if(currentlyPlaying.parent().size()>0){currentlyPlaying.jPlayer('pause');currentlyPlaying.data('gummAudioPlayerControls').buttonPause.hide();currentlyPlaying.data('gummAudioPlayerControls').buttonPlay.show();currentlyPlaying.data('gummAudioPlayerControls').container.removeClass('current');}else{currentlyPlaying=false;}}
if(this.currentlySetMedia!==this.currentMedia||this.stalled===true){this.playerElement.jPlayer('clearMedia');this.playerElement.jPlayer('setMedia',{mp3:this.currentMedia});this.currentlySetMedia=this.currentMedia;}
currentlyPlaying=this.playerElement;currentlyPlaying.jPlayer('play');this.player.addClass('current');this.buttonPlay.hide();this.buttonPause.show();},pause:function(){this.playerElement.jPlayer('pause');this.buttonPlay.show();this.buttonPause.hide();},sourceHasLoaded:function(src){return this.loadedFiles[src]!==undefined;},bindListeners:function(){var _self=this;this.buttonPlay.on('click',function(e){e.preventDefault();_self.play();});this.buttonPause.on('click',function(e){e.preventDefault();_self.pause();});this.playerElement.on($.jPlayer.event.loadstart,function(e){});this.playerElement.on($.jPlayer.event.loadeddata,function(e){});this.playerElement.on($.jPlayer.event.timeupdate,function(e){_self.playBar.css({width:e.jPlayer.status.currentPercentAbsolute+'%'});});this.playerElement.on($.jPlayer.event.ended,function(e){_self.player.removeClass('current');if(_self.playlist.length>0){_self.playNext();}else{_self.playerElement.jPlayer('stop');_self.buttonPlay.show();_self.buttonPause.hide();}});this.playerElement.on($.jPlayer.event.stalled,function(e){_self.stalled=true;});this.playerElement.on($.jPlayer.event.play,function(e){_self.paused=false;_self.stalled=false;});this.playerElement.on($.jPlayer.event.pause,function(e){_self.paused=true;});this.buttonNext.on('click',function(e){e.preventDefault();_self.playNext();});this.buttonPrev.on('click',function(e){e.preventDefault();_self.playPrev();});this.buttonClose.on('click',function(e){e.preventDefault();_self.player.removeClass('active').addClass('inactive');});if(this.buttonShow!==undefined){this.buttonShow.on('click',function(e){e.preventDefault();_self.player.removeClass('inactive').addClass('active');});}}}
$.fn.bboxSoundPlayer=function bboxSoundPlayerFn(options,callback){this.each(function(){var instance=$.data(this,'bboxSoundPlayer');if(instance){}else{$.data(this,'bboxSoundPlayer',new $.bboxSoundPlayer(options,callback,this));}});return this;}
$.bboxListenersLoader=function(){this.__construct();}
$.bboxListenersLoader.prototype={__construct:function(){this.callbacks={};},push:function(state,callback){if(!state||!callback){return;}
this.callbacks[state]=callback;switch(state){case'ready':$(document).ready(callback);break;case'load':$(window).load(callback);break;}},reload:function(){$.each(this.callbacks,function(state,callback){if(state==='load'){callback.call(window);}else{callback.call(window);}});}}
BboxListenersLoader=new $.bboxListenersLoader();$(document).ready(function(){$('.close-parent').live('click',function(e){e.preventDefault();var $this=$(this);var classes=$this.attr('class');var theEle=$this.parent();var parentNum=/parent\-(\d+)/g.exec(classes);if(parentNum!==null){for(i=1;i<parseInt(parentNum[1]);i++){theEle=theEle.parent();}}
theEle.hide('fade',150,function(){if($this.hasClass('remove-on-close'))theEle.remove();});});});})(window,jQuery);function loadGoogleWebFonts(familiesArray){if(!familiesArray)return;WebFontConfig={google:{families:familiesArray},active:function(){jQuery.event.trigger('gummGoogleFontsLoaded');}};(function(){var wf=document.createElement('script');wf.src=('https:'==document.location.protocol?'https':'http')+'://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';wf.type='text/javascript';wf.async='true';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(wf,s);})();}
jQuery.fn.center=function(){this.css({position:'fixed',top:'50%',left:'50%',marginLeft:'-'+(this.width()/2)+'px',marginTop:'-'+(this.height()/2)+'px'});return this;}
jQuery.fn.gummRemove=function(){var theObj=this;theObj.hide('fade',100,function(){theObj.remove();});}
function uniqid(prefix,more_entropy){if(typeof prefix==='undefined'){prefix="";}
var retId;var formatSeed=function(seed,reqWidth){seed=parseInt(seed,10).toString(16);if(reqWidth<seed.length){return seed.slice(seed.length-reqWidth);}
if(reqWidth>seed.length){return Array(1+(reqWidth-seed.length)).join('0')+seed;}
return seed;};if(!this.php_js){this.php_js={};}
if(!this.php_js.uniqidSeed){this.php_js.uniqidSeed=Math.floor(Math.random()*0x75bcd15);}
this.php_js.uniqidSeed++;retId=prefix;retId+=formatSeed(parseInt(new Date().getTime()/1000,10),8);retId+=formatSeed(this.php_js.uniqidSeed,5);if(more_entropy){retId+=(Math.random()*10).toFixed(8).toString();}
return retId;}
function rgb2hex(rgbString){var parts=rgbString.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(parts===null)return false;delete(parts[0]);for(var i=1;i<=3;++i){parts[i]=parseInt(parts[i]).toString(16);if(parts[i].length==1)parts[i]='0'+parts[i];}
var hexString=parts.join('');return'#'+hexString;}
if(typeof relative_time!=='function'){function relative_time(time_value,compact){var values=time_value.split(" ");time_value=values[1]+" "+values[2]+", "+values[5]+" "+values[3];var parsed_date=Date.parse(time_value);var relative_to=(arguments.length>2)?arguments[2]:new Date();var delta=parseInt((relative_to.getTime()-parsed_date)/1000);delta=delta+(relative_to.getTimezoneOffset()*60);if(delta<60){return(compact===true)?'1m':'less than a minute ago';}else if(delta<120){return(compact===true)?'1m':'about a minute ago';}else if(delta<(60*60)){var mins=(parseInt(delta/60)).toString();return(compact===true)?mins+'m':mins+' minutes ago';}else if(delta<(120*60)){return(compact===true)?'1h':'about an hour ago';}else if(delta<(24*60*60)){var hours=(parseInt(delta/3600)).toString();return(compact===true)?hours+'h':'about '+hours+' hours ago';}else if(delta<(48*60*60)){return(compact===true)?'1d':'1 day ago';}else{var days=(parseInt(delta/86400)).toString();return(compact===true)?days+'d':days+' days ago';}}}
(function($){if(!document.defaultView||!document.defaultView.getComputedStyle){var oldCurCSS=$.css;$.css=function(elem,name,force){if(name==='background-position'){name='backgroundPosition';}
if(name!=='backgroundPosition'||!elem.currentStyle||elem.currentStyle[name]){return oldCurCSS.apply(this,arguments);}
var style=elem.style;if(!force&&style&&style[name]){return style[name];}
return oldCurCSS(elem,'backgroundPositionX',force)+' '+oldCurCSS(elem,'backgroundPositionY',force);};}
var oldAnim=$.fn.animate;$.fn.animate=function(prop){if('background-position'in prop){prop.backgroundPosition=prop['background-position'];delete prop['background-position'];}
if('backgroundPosition'in prop){prop.backgroundPosition='('+prop.backgroundPosition;}
return oldAnim.apply(this,arguments);};function toArray(strg){strg=strg.replace(/left|top/g,'0px');strg=strg.replace(/right|bottom/g,'100%');strg=strg.replace(/([0-9\.]+)(\s|\)|$)/g,"$1px$2");var res=strg.match(/(-?[0-9\.]+)(px|\%|em|pt)\s(-?[0-9\.]+)(px|\%|em|pt)/);return[parseFloat(res[1],10),res[2],parseFloat(res[3],10),res[4]];}
$.fx.step.backgroundPosition=function(fx){if(!fx.bgPosReady){var start=$.css(fx.elem,'backgroundPosition');if(!start){start='0px 0px';}
start=toArray(start);fx.start=[start[0],start[2]];var end=toArray(fx.end);fx.end=[end[0],end[2]];fx.unit=[end[1],end[3]];fx.bgPosReady=true;}
var nowPosX=[];nowPosX[0]=((fx.end[0]-fx.start[0])*fx.pos)+fx.start[0]+fx.unit[0];nowPosX[1]=((fx.end[1]-fx.start[1])*fx.pos)+fx.start[1]+fx.unit[1];fx.elem.style.backgroundPosition=nowPosX[0]+' '+nowPosX[1];};})(jQuery);jQuery.fn.onImagesLoaded=function(_cb,context){return this.each(function(){var $imgs=(this.tagName.toLowerCase()==='img')?jQuery(this):jQuery('img',this),_cont=this,i=0,_done=function(){if(typeof _cb==='function')_cb.call(context,_cont);};if($imgs.length){$imgs.each(function(){var _img=this,_checki=function(e){if((_img.complete)||(_img.readyState=='complete'&&e.type=='readystatechange'))
{if(++i===$imgs.length)_done();}
else if(_img.readyState===undefined)
{jQuery(_img).attr('src',jQuery(_img).attr('src'));}};jQuery(_img).bind('load readystatechange',function(e){_checki(e);});_checki({type:'readystatechange'});});}else _done();});};function loadSerializedData(data){var tmp=data.split('&'),dataObj={};for(var i=0;i<tmp.length;i++){var keyValPair=tmp[i].split('=');dataObj[keyValPair[0]]=keyValPair[1];}
return dataObj;}
function updateQueryStringParameter(uri,key,value){var re=new RegExp("([?|&])"+key+"=.*?(&|$)","i");separator=uri.indexOf('?')!==-1?"&":"?";if(uri.match(re)){return uri.replace(re,'$1'+key+"="+value+'$2');}else{return uri+separator+key+"="+value;}};(function($){if($('body').hasClass('gumm-enable-ajax-content-loading')){$(document).on('click','a',function(e){var $this=$(this);var url=$this.attr('href');if(url.indexOf(gummBaseUrl)===0&&url.indexOf(gummAdminUrl)===-1&&!$this.hasClass('json-load-more')&&!$this.hasClass('bb-prevent-ajax')){e.preventDefault();gummReloadPageContent(url);if(url!=window.location){window.history.pushState({path:url},'',url);}
return false;}});$(window).bind('popstate',function(e){if(e.originalEvent.state!==null&&typeof(e.originalEvent.state)==='object'&&e.originalEvent.state.path!==undefined){gummReloadPageContent(e.originalEvent.state.path);}});}
$('body').on('gummContentLoading',function(e){if($(window).scrollTop()>=300){$('html, body').scrollTop(0);}});$('body').on('gummContentLoaded',function(e){});window.gummReloadPageContent=function(url){$('body').addClass('gumm-loading-content');$('body').trigger('gummContentLoading');$.ajax({url:url,beforeSend:function(jqXHR,settings){},complete:function(jqXHR,textStatus){},success:function(data){var dataHead=data.match(/<\s*head.*>[\s\S]*<\s*\/head\s*>/ig).join("");dataHead=$(dataHead.replace(/<\s*head/gi,"<div"));document.title=dataHead.children('title').text();var dataBody=data.match(/<\s*body.*>[\s\S]*<\s*\/body\s*>/ig).join("");dataBody=$(dataBody.replace(/<\s*body/gi,"<div"));var $loadableContent=dataBody.children('#bb-loadable-content');var $topBar=$loadableContent.children('header.top-bar');var $contentWrap=$loadableContent.children('.content-wrap');var $mobileMenu=dataBody.children('#mobile-menu');var $_currTopBar=$('header.top-bar');var $_currContentWrap=$('.content-wrap');var $_currMobileMenu=$('#mobile-menu');$('body').trigger('gummBeforeContentLoaded');$('#big-video-wrap').remove();if($topBar.size()===0){$_currTopBar.remove();}else{if($_currTopBar.size()===0){$('#bb-loadable-content').prepend($topBar);}else{$_currTopBar.html($topBar.html());}}
$_currContentWrap.height($_currContentWrap.height());$_currContentWrap.html($contentWrap.html());$_currMobileMenu.html($mobileMenu.html());$('#wpadminbar').html(dataBody.children('#wpadminbar').html());$('#mobile-menu').data('gummMobileMenu',false);var $imgs=$('img');if($imgs.size()>0){imagesLoaded($imgs,function(){$_currContentWrap.css('height','');$('body').attr('class',dataBody.attr('class'));BboxListenersLoader.reload();$('body').trigger('gummContentLoaded');});}else{$_currContentWrap.css('height','');$('body').attr('class',dataBody.attr('class'));BboxListenersLoader.reload();$('body').trigger('gummContentLoaded');}}});}
$(document).ready(function(){});BboxListenersLoader.push('ajax',function(){$('#wpadminbar li.menupop').hover(function(){$(this).addClass('hover')},function(){$(this).removeClass('hover');});});BboxListenersLoader.push('load',function(){$('.bluebox-slider').each(function(i,ele){var sliderContainer=$(ele).children('.swiper-container');sliderContainer.css({height:$(ele).height(),width:$(ele).width(),overflow:'hidden'});sliderContainer.children('.swiper-wrapper').children('.swiper-slide').css('display','');sliderContainer.swiper({speed:500,loop:$(ele).data('loop'),autoplay:$(ele).data('autoplay'),onSwiperCreated:function(swiper){$(ele).find('img.img-preload').each(function(i,img){gummImageHasLoaded($(img));});},onFirstInit:function(swiper){var sliderWrapper=$(swiper.container).parent();$(swiper.container).css({height:'',width:'',overflow:''});swiper.bbxPagination=false;swiper.bbxCaptions=false;if($(ele).data('controlNav')!==undefined){swiper.bbxPagination=$(ele).find($(ele).data('controlNav'));swiper.bbxPagination.children().on('click',function(e){e.preventDefault();swiper.swipeTo($(this).index());});}
if($(ele).data('directionNav')!==undefined){swiper.bbxDirectionNav=$(ele).find($(ele).data('directionNav'));swiper.bbxDirectionNav.children().on('click',function(e){e.preventDefault();if($(this).hasClass('prev')){swiper.swipePrev();}else{swiper.swipeNext();}});}
if($(ele).data('captionContainer')!==undefined){swiper.bbxCaptions=$(ele).find($(ele).data('captionContainer'));}},onSlideChangeEnd:function(swiper){if(swiper.bbxCaptions!==false){swiper.bbxCaptions.children().removeClass('current-slide-caption').eq(swiper.activeLoopIndex).addClass('current-slide-caption');}
if(swiper.bbxPagination!==false){swiper.bbxPagination.children().removeClass('current').eq(swiper.activeLoopIndex).addClass('current');}},onTouchStart:function(swiper){if(swiper.bbxCaptions!==false){swiper.bbxCaptions.children().eq(swiper.activeLoopIndex).addClass('fadingaway-slide-caption');}},onTouchEnd:function(swiper){if(swiper.bbxCaptions!==false){swiper.bbxCaptions.children('.fadingaway-slide-caption').removeClass('fadingaway-slide-caption');}}});});$('.flex-slider').each(function(i,ele){if($(ele).data('direction-nav-container')!==undefined&&$(ele).data('direction-nav-container')){var theDirectionNavContainer=$($(ele).data('direction-nav-container'));if(theDirectionNavContainer.length>0){theDirectionNavContainer.children().on('click',function(e){e.preventDefault();var slider=$(ele).data('flexslider');var target=($(this).hasClass('next'))?slider.getTarget('next'):slider.getTarget('prev');slider.flexAnimate(target,true);});}}
if($(ele).data('control-nav-container')!==undefined&&$(ele).data('control-nav-container')){var theControlNavContainer=$($(ele).data('control-nav-container'));if(theControlNavContainer.length>0){var theButtons=theControlNavContainer.children();theButtons.on('click',function(e){e.preventDefault();var slider=$(ele).data('flexslider');slider.flexAnimate($(this).index(),true);theButtons.removeClass('current');$(this).addClass('current');});}}
$(ele).flexslider({animation:$(ele).data('animation'),animationSpeed:$(ele).data('animationSpeed'),selector:'.slides > .slide-item',controlNav:Boolean($(ele).data('control-nav')),directionNav:Boolean($(ele).data('direction-nav')),animationLoop:Boolean($(ele).data('animation-loop')),slideshow:Boolean($(ele).data('slideshow')),slideshowSpeed:$(ele).data('slideshow-speed'),smoothHeight:Boolean($(ele).data('smooth-height')),prevText:'',nextText:'',start:function(slider){if(slider.hasClass('loading')){slider.css({height:''});slider.find('.slides').css({visibility:'visible',opacity:0}).animate({opacity:1},550,function(){slider.removeClass('loading');});}
if(slider.directionNav&&slider.directionNav!==undefined){slider.directionNav.filter('.'+this.namespace+'next').addClass('icon-chevron-right');slider.directionNav.filter('.'+this.namespace+'prev').addClass('icon-chevron-left');}},after:function(slider){if(theButtons!==undefined){theButtons.removeClass('current');theButtons.eq(slider.currentSlide).addClass('current');}}});});$('.gumm-layout-element-slider').each(function(i,ele){$(ele).gummLayoutElementContentSlider({numVisible:$(ele).data('num-visible'),directionalNav:$(ele).data('directional-nav')});});$('.wi-slider').windy({prevEl:'.prev',nextEl:'.next',controlNav:true});$('.has-filterable-categories').gummFilterableItems();});window.gummImageHasLoaded=function($img){var wrapper=$img.parent('.imgpreload-wrapper');wrapper.before($img);wrapper.remove();$img.css('display','').removeClass('img-preload');}
BboxListenersLoader.push('ready',function(){$('.img-preload').each(function(i,img){imagesLoaded(img,function(e){gummImageHasLoaded($(this.elements));});});$('#mobile-menu').gummMobileMenu();$('.bluebox-bg-player').bboxBgPlayer();$('.bbox-countdown-timer').bboxCountdownTimer();$("a[rel^='prettyPhoto']").prettyPhoto();$('.flex-slider').each(function(i,ele){$(ele).height($(ele).height());});$('.gmap-container').gummGoogleMap();$('.bluebox-accordion').gummAccordion();$('.tooltip-link').tooltip();$('.sliding-content-element').gummStepsContent();$('.terms-scroll-layout').gummTermsScroller();$('.widget-body.gumm-events-calendar-widget').gummCalendarWidget();$('.bb-gauge-chart').gummGaugeChart();$("a[rel^='prettyPhoto']").prettyPhoto();$('.gumm-audio-player').bboxSoundPlayer({appendTo:'#bb-loadable-content'});new $.gummScrollr();bindPopoverItems($('.gumm-events-calendar td.event a.b-popover'));bindPopoverItems($('.loop-categories a.b-popover, .line-meta-details a.b-popover'));$('#footer-scroll-top-link').on('click',function(e){e.preventDefault();$('html, body').stop().animate({scrollTop:0},400);});$('.search-form .bluebox-search-input').gummAutocomplete();$('#prime-nav-searchform input').attr('onfocus','').attr('onblur','').val('');$('a#prime-nav-searchform-button').on('click',function(e){e.preventDefault();if($(this).hasClass('icon-search')){$(this).removeClass('icon-search').addClass('icon-remove prime-nav-searchform-button-active');$('div#prime-nav-searchform').addClass('active');$(this).next().children().children('input.bluebox-search-input').focus();}else{$(this).removeClass('icon-remove prime-nav-searchform-button-active').addClass('icon-search');$('div#prime-nav-searchform').removeClass('active');}});$('.json-load-more').on('click',function(e){var _this=$(this);var originText=_this.data('origintext')?_this.data('origintext'):_this.text();var loadingText=_this.data('loadingtext')?_this.data('loadingtext'):originText;var itemSelector=_this.data('itemSelector')?_this.data('itemSelector'):'.hentry';var loadingLabel=_this.attr('data-loadingtext')
e.preventDefault();$.ajax({url:$(this).attr('href'),beforeSend:function(jqXHR,settings){_this.text(loadingText);},complete:function(jqXHR,textStatus){_this.text(originText);},success:function(data,textStatus,jqXHR){var items=$(data).find(itemSelector);items.hide();_this.before(items);items.show('fade',350);var newLoadMoreLink=$(data).find('.json-load-more');if(newLoadMoreLink.size()>0){_this.attr('href',newLoadMoreLink.attr('href'));}else{_this.hide();}}});});$('div.msg a.close').on('click',function(e){e.preventDefault();$(this).parent().hide('fade',150,function(){$(this).remove();});});$('.gumm-contact-submit').on('click',function(e){e.preventDefault();if($(this).hasClass('action-sending'))return false;var theInputButton=$(this);var theForm=$(this).parent().parent('form');var theContainerId=theForm.parent().attr('id');$.ajax({url:theForm.attr('action'),type:'post',data:theForm.serialize(),beforeSend:function(){theInputButton.addClass('action-sending').val(theInputButton.data('action-title'));},success:function(data,textStatus,jqXHR){var theContainer=$(data).find('#'+theContainerId);var theMsg=theContainer.children('.email-sent-msg');$('#'+theContainerId).find('.contact-form-inputs').html(theContainer.find('.contact-form-inputs').html());if(theMsg.length>=1){theInputButton.after('<p class="email-sent">'+theMsg.children('p').html()+'</p>');setTimeout(function(){theInputButton.children('p.email-sent').hide('fade',250);},3000);}},complete:function(){theInputButton.removeClass('action-sending').val(theInputButton.data('title'));}});});});$(document).on('click','.play-video',function(e){e.preventDefault();var theVideoContainer=$(this).parents('.video-container:first');var theImg=theVideoContainer.find('img');if(theVideoContainer.data('video')!==undefined){var toEmbedObject=null;switch(theVideoContainer.data('srcType')){case'embed':toEmbedObject=$(theVideoContainer.data('video'));break;case'url':toEmbedObject=$('<iframe width="100%" height="100%" src="'+theVideoContainer.data('video')+'" frameborder="0"></iframe>');break;}
if(toEmbedObject!==null){var wrapper=$('<div class="embeddedVideoWrapper">');wrapper.css({paddingBottom:(100/(theImg.width()/theImg.height())-0.9)+'%'});if(toEmbedObject.is('iframe')){var _src=toEmbedObject.attr('src');_src=updateQueryStringParameter(_src,'autoplay','1');_src=updateQueryStringParameter(_src,'html5','1');toEmbedObject.attr('src',_src);}
wrapper.append(toEmbedObject);theImg.replaceWith(wrapper);$(this).remove();}}});$(document).on('click',function(e){_gummHideActivePopups();});$(document).on('focus','.labeled-input',function(e){if($(this).val()===$(this).data('default-label')){$(this).val('').removeClass('default-label-on');}});$(document).on('blur','.labeled-input',function(e){if($(this).val()===$(this).data('default-label')){$(this).addClass('default-label-on');}else if($(this).val().length<1){$(this).val($(this).data('default-label')).addClass('default-label-on');}});$(document).on('keyup','.form-error',function(e){$(this).removeClass('form-error');$(this).next('.error').hide('fade',250,function(){$(this).remove();})});$(document).on('click',function(e){if($('div#prime-nav-searchform').hasClass('active')){var target=$(e.target);if(!target.is('#prime-nav-searchform-button')&&!target.parent().parent().is('#prime-nav-searchform')&&!target.parent().is('#prime-nav-searchform')){$('a#prime-nav-searchform-button').removeClass('icon-remove prime-nav-searchform-button-active').addClass('icon-search');$('div#prime-nav-searchform').removeClass('active');}}});$.ajaxSetup({beforeSend:function(){initAjaxLoad();},success:function(){completeAjaxLoad();},complete:function(){completeAjaxLoad();},error:function(){completeAjaxLoad();}});window.initAjaxLoad=function(){$('body').addClass('ajaxloading');}
window.completeAjaxLoad=function(){$('body').removeClass('ajaxloading');}
window.bindPopoverItems=function(popoverItems){popoverItems.popover({trigger:'manual',placement:'top'});popoverItems.on('click',function(e){e.preventDefault();e.stopPropagation();if(($('html').width()-$(this).offset().left+$(this).outerWidth())<250){$(this).popover('destroy');$(this).popover({trigger:'manual',placement:'left'});}else if($(this).offset().left<50){$(this).popover('destroy');$(this).popover({trigger:'manual',placement:'right'});}
$(this).popover('toggle');var $tip=$(this).data('popover').$tip;_gummHideActivePopups($tip);if(!$tip)$tip=$(this).data('popover').$tip;if(!$tip.hasClass('event-calendar-popover')){$tip.addClass('event-calendar-popover');}
$(this).data('_gummBootstrapPopover.$tip',$tip);$tip.data('_gummBootstrapPopover.$reltarget',$(this));$tip.find('*').on('click',function(e){e.stopPropagation();});});}
window._gummHideActivePopups=function(exclude){$('.popover').each(function(i,ele){if($(ele).is($(exclude)))return;var popTarget=$(ele).data('_gummBootstrapPopover.$reltarget')
if($(popTarget).size()>0){$(popTarget).popover('hide');}});}})(jQuery);(function($){$.gummScrollr=function gummScrollr(options,callback){this.__construct(options);}
$.gummScrollr.settings={items:'.gumm-scrollr-item',inactiveClass:'not-initialized'}
$.gummScrollr.prototype={offsets:[],initialized:false,windowScrollTop:null,allInitialized:false,scrollEventCallback:null,initializedOffsets:[],__construct:function(options){this.options=$.extend(true,{},$.gummScrollr.settings,options);this.items=$(this.options.items);this.bindListeners();},__destruct:function(){$(window).unbind('scroll',this.scrollEventCallback);},initialize:function(){this.initialized=true;this.calculatePositions();this.unhideHidden();},calculatePositions:function(){var _self=this;this.items.each(function(i,ele){_self.offsets.push($(ele).offset().top+($(ele).height()/2));});},unhideHidden:function(){if(!this.initialized)return false;var _self=this;var scrollBottom=this.getScrollBottom();for(var i=0;i<this.offsets.length;i++){if(this.initializedOffsets[i]===true)continue;var _offset=this.offsets[i];if(_offset<(scrollBottom-50)){this.initializedOffsets[i]=true;setTimeout(function(i){_self.items.eq(i).removeClass(_self.options.inactiveClass).trigger('gummScrollred');},300,i);if(this.initializedOffsets.length===this.offsets.length){this.allInitialized=true;this.__destruct();}}}},getScrollBottom:function(){return $(window).scrollTop()+$(window).height();},bindListeners:function(){var _self=this;this.scrollEventCallback=function(){_self.unhideHidden();}
$(window).on('scroll',this.scrollEventCallback);$(window).on('load',function(e){setTimeout(function(){_self.initialize();},10);});}}
$.gummFilterableItems=function gummFilterableItems(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummFilterableItems.settings={}
$.gummFilterableItems.prototype={__construct:function(options,callback){this.buttonsContainer=this.element.find('.filter-buttons');this.buttons=this.buttonsContainer.children();this.itemsContainer=this.element.find('.gumm-filterable-items');this.items=this.itemsContainer.children();this._categoryIds={};this.currentIndex=0;var _self=this;this.buttons.each(function(i,ele){var catId=/cat-item\-(\d+)/g.exec($(ele).attr('class'));if(catId!==null){catId=parseInt(catId[1]);}else{catId=false;}
_self._categoryIds[i]=catId;});this.itemsContainer.masonry({});this.Masonry=Masonry.data(this.itemsContainer.get(0));this.masonryItems=this.Masonry.items;this.bindListeners();},bindListeners:function(){var _self=this;this.buttons.on('click',function(e){e.preventDefault();e.stopPropagation();var $this=$(this);var thisIndex=$this.index();if(thisIndex===_self.currentIndex){return;}
_self.currentIndex=thisIndex;_self.buttons.removeClass('current');$(this).addClass('current');var catId=_self._categoryIds[$(this).index()];var masonryItems=[];var clonedItems=_self.masonryItems.slice(0);var itemsLength=clonedItems.length;if(catId!==false&&catId!==0){for(i=0;i<itemsLength;i++){var item=$(_self.masonryItems[i].element);if(item.hasClass('for-category-'+catId)){masonryItems.push(clonedItems[i]);item.addClass('active').removeClass('inactive');}else{item.addClass('inactive').removeClass('active');}}}else{masonryItems=_self.masonryItems;_self.items.addClass('active').removeClass('inactive');}
_self.Masonry.items=masonryItems;_self.itemsContainer.masonry('layout');});}}
$.fn.gummFilterableItems=function gummFilterableItemsFn(options,callback){this.each(function(){var instance=$.data(this,'gummFilterableItems');if(instance){}else{$.data(this,'gummFilterableItems',new $.gummFilterableItems(options,callback,this));}});return this;}
$.gummLayoutElementContentSlider=function gummLayoutElementContentSlider(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummLayoutElementContentSlider.settings={directionalNav:'.nav-arrows',slidesContainer:'.slides-container',items:'div',elementMargin:null,numVisible:3}
$.gummLayoutElementContentSlider.prototype={duringAnimation:false,__construct:function(options,callback){this.options=$.extend(true,{},$.gummLayoutElementContentSlider.settings,options);this.directionalNav=this.element.find(this.options.directionalNav);this.prevButton=this.directionalNav.children('.prev');this.nextButton=this.directionalNav.children('.next');this.slidesContainer=this.element.find(this.options.slidesContainer);if(!this.options.elementMargin){this.options.elementMargin=parseFloat(this.slidesContainer.children(':visible').eq(1).css('marginLeft'));}
this.initHtml();this.bindListeners();},initHtml:function(){this.slidesContainer.wrap('<div class="slides-container-wrapper" />');this.slidesContainer.wrap('<div class="slides-container-wrap" />');},initItems:function(){var _self=this;this.items=this.slidesContainer.children(this.options.items);this.items.css({position:'relative'});this.items.each(function(i,ele){var item=$(ele);if(i>=_self.options.numVisible){item.removeClass('hidden').css({display:'none'});}});},next:function(){if(this.duringAnimation)return;this.duringAnimation=true;var _self=this;var visibleItems=this.slidesContainer.children(':visible');var firstItem=visibleItems.eq(0);var secondItem=visibleItems.eq(1);var lastItem=visibleItems.eq((this.options.numVisible-1));var newItem=lastItem.next();newItem.css({position:'absolute',top:0,display:'block',left:lastItem.position().left+lastItem.width()+parseFloat(lastItem.css('marginLeft'))}).removeClass('hidden');secondItem.animate({marginLeft:0},150,'easeInQuart',function(){if(newItem.size()<1){secondItem.animate({marginLeft:_self.options.elementMargin},100,function(){_self.duringAnimation=false;});}else{var width=firstItem.width();newItem.animate({left:newItem.position().left-width},250,'linear',function(){newItem.css({left:'',position:'relative'});});firstItem.animate({marginLeft:-width},250,'linear',function(){firstItem.hide();_self.duringAnimation=false;});}});},prev:function(){if(this.duringAnimation)return;this.duringAnimation=true;var _self=this;var visibleItems=this.slidesContainer.children(':visible');var firstItem=visibleItems.eq(0);var secondItem=visibleItems.eq(1);var lastItem=visibleItems.eq((this.options.numVisible-1));var newItem=firstItem.prev();lastItem.css({top:0,left:lastItem.position().left,position:'absolute'});firstItem.animate({marginLeft:_self.options.elementMargin},150,'easeInQuart',function(){if(newItem.size()<1){firstItem.animate({marginLeft:0},100,function(){lastItem.css({left:'auto',position:'relative'});_self.duringAnimation=false;});}else{lastItem.animate({left:lastItem.position().left+(lastItem.width())},250);newItem.css({display:'block'}).animate({marginLeft:0},250,function(){lastItem.css({display:'none',position:'relative'});_self.duringAnimation=false;});}});},bindListeners:function(){var _self=this;this.prevButton.on('click',function(e){e.preventDefault();_self.prev();});this.nextButton.on('click',function(e){e.preventDefault();_self.next();});}}
$.fn.gummLayoutElementContentSlider=function gummLayoutElementContentSliderFn(options,callback){this.each(function(){var instance=$.data(this,'gummLayoutElementContentSlider');if(instance){}else{$.data(this,'gummLayoutElementContentSlider',new $.gummLayoutElementContentSlider(options,callback,this));}});return this;}
$.gummStepsContent=function gummStepsContent(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummStepsContent.settings={stepsContainer:'.sliding-content-steps',stepItems:'.rule-step',contentHolder:'.sliding-content-holder',items:'.sliding-content-entry',pointer:'.blog-post-pointer-detail',wrapper:'.rule-step-wrap',verticalPaddingDeviaion:20,verticalPointerDeviation:2,speed:500}
$.gummStepsContent.prototype={wrapHeight:0,current:0,__construct:function(options,callback){this.options=$.extend(true,{},$.gummStepsContent.settings,options);this.wrapperElement=this.element.find(this.options.wrapper);this.items=this.element.find(this.options.items);this.pointer=this.element.find(this.options.pointer);this.container=this.element.find(this.options.contentHolder);this.stepsNav=this.element.find(this.options.stepsContainer);this.stepItems=this.stepsNav.find(this.options.stepItems);this.pointerHeight=this.pointer.height();var _stepItem=this.stepItems.eq(0);this.itemVerticalMargin=parseInt(_stepItem.css('marginTop'))+parseInt(_stepItem.css('marginBottom'));this.itemHeight=_stepItem.height()+parseInt(_stepItem.css('marginTop'))+parseInt(_stepItem.css('marginBottom'));this.container.height(this.wrapHeight).css({overflow:'hidden',paddingBottom:0,position:'relative'});var _maxHeight=0;var _self=this;this.items.each(function(i,item){$(item).css({display:'block',opacity:0,position:'relative',float:'left',width:'100%'}).removeClass('hidden');var _itemHeight=$(item).height();$(item).data('originHeight',_itemHeight);if(i===_self.current){_maxHeight=_itemHeight;}
$(item).css({opacity:1});});this.wrapHeight=_maxHeight;this.container.css({height:_maxHeight});this.bindListeners();},goTo:function(index){if(this.current==index)return;this.stepItems.eq(this.current).removeClass('current');this.stepItems.eq(index).addClass('current');var contentToGoTo=this.items.eq(index);var scrollTo=0;for(var i=0;i<index;i++){scrollTo+=this.items.eq(i).outerHeight();}
this.container.animate({scrollTop:scrollTo,height:contentToGoTo.height()},this.options.speed);this.pointerGoTo(index);this.current=index;},pointerGoTo:function(index){this.pointer.animate({top:this.itemHeight*index+this.options.verticalPointerDeviation},this.options.speed)},bindListeners:function(){var _self=this;this.stepItems.children('a').on('click',function(e){e.preventDefault()});this.stepItems.on('click',function(e){e.preventDefault();_self.goTo($(this).index());});}}
$.fn.gummStepsContent=function gummStepsContentFn(options,callback){this.each(function(){var instance=$.data(this,'gummStepsContent');if(instance){}else{$.data(this,'gummStepsContent',new $.gummStepsContent(options,callback,this));}});return this;}
$.gummCalendarWidget=function gummCalendarWidget(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummCalendarWidget.settings={container:'.calendar-sheet-container',items:'.sheet-item',navigationLinks:'.next, .prev',header:'.month-heading',start:0}
$.gummCalendarWidget.prototype={current:null,animating:false,__construct:function(options,callback){this.options=$.extend(true,{},$.gummCalendarWidget.settings,options);this.header=this.element.find(this.options.header);this.navigationLinks=this.element.find(this.options.navigationLinks);this.container=this.element.find(this.options.container);this.current=this.container.children(this.options.items).eq(this.options.start);this.current.data('month',this.header.children('h4').html());this.current.data('prevlink',this.navigationLinks.filter('.prev').attr('href'));this.current.data('nextlink',this.navigationLinks.filter('.next').attr('href'));this.itemWidth=this.current.width();this.container.height(this.container.height());this.calendarRows=this.container.find('tr');this.setupItems();this.header.css({'transform-origin':'center top'});this.container.css({position:'relative',overflow:'hidden'});this.bindListeners();},setupItems:function(){var _self=this;this.container.children(this.options.items).each(function(i,ele){_self.setupItem($(ele));});},setupItem:function(item){item.css({left:0,bottom:0,right:0,position:'absolute'});this.itemWidth=item.width();item.css({width:this.itemWidth});},getItems:function(){return this.container.children(this.options.items);},animate:function(dir){},getCalendarColumns:function(rows,dir){if(rows===undefined)var rows=this.calendarRows;var nThDaysOfWeek=[];var i;if(dir=='prev'){for(i=7;i>=1;i--){var nThChildren=rows.children('td:nth-child('+i+')');nThDaysOfWeek.push(nThChildren);}}else{for(i=1;i<=7;i++){var nThChildren=rows.children('td:nth-child('+i+')');nThDaysOfWeek.push(nThChildren);}}
return nThDaysOfWeek;},next:function(){if(this.animating)return;this.animating=true;var _self=this;var animatingItem=this.current;var nextItem=this.getNextItem();},prev:function(){if(this.animating)return;this.animating=true;var _self=this;var animatingItem=this.current;var nextItem=this.getNextItem('prev');},animateNext:function(nextItem,dir){var _self=this;var containerLeft,currentItemsLeft,newItemsLeft;var elementWidth=this.element.outerWidth();if(dir=='prev'){containerLeft=-elementWidth;currentItemsLeft=_self.element.outerWidth()*2;newItemsLeft=elementWidth;}else{containerLeft=elementWidth;currentItemsLeft=-_self.element.outerWidth()*2;newItemsLeft=-elementWidth;}
newItemsLeft+=3;nextItem.css({left:containerLeft}).show();this.current.css({zIndex:14});var newCols=this.getCalendarColumns(nextItem.find('tr'),dir);var delay=0;$.each(this.getCalendarColumns(this.calendarRows,dir),function(i,column){var dates=column.children('a');dates.delay(delay).css({position:'relative'}).animate({left:currentItemsLeft,opacity:0},800);delay+=50;});var _newDelay=400;$.each(newCols,function(i,column){var dates=column.children('a');dates.delay(_newDelay).css({position:'relative',visibility:'visible',display:'block',opacity:1}).animate({left:newItemsLeft},250);if(i+1==newCols.length){setTimeout(function(){_self.onAnimationEnd(nextItem);},(_newDelay+350));}
_newDelay+=50;});},onAnimationEnd:function(nextItem){nextItem.css({left:3});this.normalizeElements(nextItem);this.normalizeElements(this.current);this.current.css({display:'none',zIndex:15});this.current=nextItem;this.calendarRows=this.current.find('tr');this.animating=false;},normalizeElements:function(item){item.find('tr').find('a').css({left:'auto',opacity:1});},getNextItem:function(dir){var _self=this;if(dir===undefined)var dir='next';var nextItem;switch(dir){case'next':nextItem=this.current.next();break;case'prev':case'previous':nextItem=this.current.prev();break;}
if(nextItem.size()<1){nextItem=this.current.clone();nextItem.css({display:'none',opacity:0});var dirNavSelector='.next';switch(dir){case'next':this.current.after(nextItem);break;case'prev':case'previous':dirNavSelector='.prev';this.current.before(nextItem);break;}
$.ajax({url:this.navigationLinks.filter(dirNavSelector).attr('href'),success:function(data,textStatus,jqXHR){var theContent=$(data).find(_self.options.items).html();var navLinks=$(data).find(_self.options.navigationLinks);var nextHref=navLinks.filter('.next').attr('href');var prevHref=navLinks.filter('.prev').attr('href');_self.navigationLinks.filter('.next').attr('href',nextHref);_self.navigationLinks.filter('.prev').attr('href',prevHref);var heading=$(data).find(_self.options.header).children('h4');_self.header.children('h4').html(heading.html()).animate({opacity:1},100);nextItem.data('month',heading.html());nextItem.data('prevlink',prevHref);nextItem.data('nextlink',nextHref);nextItem.html(theContent).animate({opacity:1},150);_self.animateNext(nextItem,dir);nextItem.find('td a').on('click',function(e){e.preventDefault();})
bindPopoverItems(nextItem.find('a.b-popover'));}});}else{this.header.children('h4').html(nextItem.data('month')).animate({opacity:1},100);this.navigationLinks.filter('.next').attr('href',nextItem.data('nextlink'));this.navigationLinks.filter('.prev').attr('href',nextItem.data('prevlink'));nextItem.css({opacity:1});this.container.animate({height:nextItem.outerHeight()},150);this.animateNext(nextItem,dir);}
return nextItem;},loadNewContent:function(contentEle){},bindListeners:function(){var _self=this;this.navigationLinks.on('click',function(e){e.preventDefault();if($(this).hasClass('next')){_self.next();}else{_self.prev();}});$(window).on('resize',function(e){_self.getItems().innerWidth(_self.element.width()-8);_self.container.height(_self.current.height()-6);});$(document).on('gummLayoutChanged',function(e){_self.getItems().innerWidth(_self.element.width()-2);_self.container.height(_self.current.height());});}}
$.fn.gummCalendarWidget=function gummCalendarWidgetFn(options,callback){this.each(function(){var instance=$.data(this,'gummCalendarWidget');if(instance){}else{$.data(this,'gummCalendarWidget',new $.gummCalendarWidget(options,callback,this));}});return this;}
$.gummPointerMenu=function gummPointerMenu(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummPointerMenu.settings={items:'li',subMenu:'.sub-menu',parentClass:'sub-menu-parent',pointer:'.menu-pointer',speed:450,fadeSpeed:0,easing:'easeOutBack',clone:true,cloneClass:'current-menu-pointer',selectedClass:'current-menu-item',navCollapseTrigger:'#button-nav-collapse-trigger',navCollapse:'#nav-collapse',timeout:600,subMenuTimeout:150}
$.gummPointerMenu.prototype={element:null,pointer:null,items:null,selectedItem:null,mouseoutTimeOut:null,submenuMouseoutTimeOut:null,activeSubMenu:null,__construct:function(options,callback){this.options=$.extend(true,{},$.gummPointerMenu.settings,options);this.pointer=this.element.find(this.options.pointer+':first');var pointerVisible=this.element.find(this.options.pointer+':visible').eq(0);if(pointerVisible.size()>0){this.selectedItem=pointerVisible.parents(this.options.items+':first');if(this.options.clone){var pointerClone=pointerVisible;if(pointerVisible.is(this.pointer)){pointerClone=this.pointer.clone();this.pointer.after(pointerClone);}
pointerClone.addClass(this.options.cloneClass);}else{if(!pointerVisible.is(this.pointer))pointerVisible.hide();}}
this.navCollapseTrigger=$(this.options.navCollapseTrigger);this.navCollapse=$(this.options.navCollapse);var _self=this;this.items=this.element.find(this.options.items);this.items.each(function(i,ele){_self._initParentItemClass($(ele));});this._initSubmenuItemsPositions();this._bindListeners();},_initParentItemClass:function(item){item.css({position:'relative'});var _self=this;var subMenuItem=$(item).children(this.options.subMenu);if(subMenuItem.size()>0){$(item).addClass(this.options.parentClass);subMenuItem.children(this.options.items).each(function(i,ele){_self._initParentItemClass($(ele));});}},_initSubmenuItemsPositions:function(){var documentWidth=$(document).width();var subMenuItems=this.element.find(this.options.subMenu);var _self=this;subMenuItems.each(function(i,item){$(item).css({opacity:0,display:'block',visibility:'visible'});var itemParent=$(item).parent();if(!itemParent.parent().is(_self.element)){itemParent.addClass('dropdown-submenu');}
var rightPos=$(item).offset().left+$(item).outerWidth();if(rightPos>documentWidth){}});subMenuItems.css({display:'none'});},move:function(ele){var speed=this.options.speed;if(this.pointer.is(':hidden')&&this.selectedItem){this.pointer.css({left:this.selectedItem.position().left,width:this.selectedItem.width()});}else if(this.pointer.is(':hidden')&&!this.selectedItem){speed=0;}
this.pointer.show().dequeue().animate({left:ele.position().left,width:ele.width()},speed,this.options.easing);},openSubmenu:function(ele){if(ele.parent().is(this.element)){ele.addClass('hovered');}
var subMenuItem=ele.children(this.options.subMenu);if(subMenuItem.size()<1)return false;else if(subMenuItem.data('gummOpened')===true)return false;subMenuItem.css({display:'block'}).data('gummOpened',true);var documentWidth=$(document).width();var rightPos=$(subMenuItem).offset().left+$(subMenuItem).outerWidth();if(rightPos>documentWidth&&!ele.parent().is(this.element)){$(subMenuItem).css({left:'-100%'});}
subMenuItem.stop().animate({opacity:1},this.options.fadeSpeed);return true;},closeSubmenu:function(ele){if(ele.parent().is(this.element)){ele.removeClass('hovered');}
var subMenuItem=ele.children(this.options.subMenu);if(subMenuItem.size()<1)return false;subMenuItem.data('gummOpened',false);subMenuItem.stop().animate({opacity:0},this.options.fadeSpeed,function(){$(this).css({display:'none'});});return true;},_bindListeners:function(){var _self=this;if(!Modernizr.touch){this.items.bind('mouseenter',function(e){var timeoutDur=_self.options.subMenuTimeout;if($(this).parent().is(_self.element)){_self.move($(this));}
var item=$(this);if(item.data('gummPointerMenuCloseTO')!==undefined){clearTimeout(item.data('gummPointerMenuCloseTO'));}
item.data('gummPointerMenuOpenTO',setTimeout(function(){_self.openSubmenu(item);},timeoutDur));});this.items.bind('mouseleave',function(e){var item=$(this);var timeoutDur=_self.options.subMenuTimeout;if($(this).parent().is(_self.element)){}
if(item.data('gummPointerMenuOpenTO')!==undefined){clearTimeout(item.data('gummPointerMenuOpenTO'));}
item.data('gummPointerMenuCloseTO',setTimeout(function(){_self.closeSubmenu(item);},timeoutDur));});this.element.bind('mouseenter',function(e){clearTimeout(_self.mouseoutTimeOut);});this.element.bind('mouseleave',function(e){_self.mouseoutTimeOut=setTimeout(function(){if(!_self.selectedItem){_self.pointer.hide();}else{_self.move(_self.selectedItem);}},_self.options.timeout);});}else{this.items.on('click',function(e){var currTimestamp=e.timeStamp;var lastTimestamp=$(this).data('gummOpenTimestamp');if(_self.openSubmenu($(this))===true){$(this).data('gummOpenTimestamp',e.timeStamp);e.preventDefault();}else if(lastTimestamp!==undefined&&lastTimestamp!==false){var timestampDiffInSeconds=(currTimestamp-lastTimestamp)/1000;if(timestampDiffInSeconds>5){e.preventDefault();_self.closeSubmenu($(this));$(this).data('gummOpenTimestamp',false);}}});}
this.navCollapseTrigger.on('click',function(e){if(_self.navCollapse.data('gummOpened')===true){_self.navCollapse.stop().animate({height:0},350,function(){$(this).data('gummOpened',false);});}else{_self.navCollapse.stop().animate({height:_self.element.outerHeight()},350,function(){$(this).css({height:'auto'}).data('gummOpened',true);});}});}}
$.fn.gummPointerMenu=function initGummPointerMenu(options,callback){this.each(function(){var instance=$.data(this,'gummPointerMenu');if(instance){}else{$.data(this,'gummPointerMenu',new $.gummPointerMenu(options,callback,this));}});return this;}
$.gummMobileMenu=function gummMobileMenu(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummMobileMenu.settings={button:'#mobile-menu-button',wrap:'#bb-loadable-content',menu:'#mobile-menu',items:'li',subMenuItems:'ul.sub-menu',dropdownLink:'.dropdown-link',dropDownClassOpen:'icon-caret-down',dropDownClassClose:'icon-caret-up',preventTouchEventsOn:'.swiper-slide'}
$.gummMobileMenu.prototype={state:'closed',__construct:function(options,callback){this.options=$.extend(true,{},$.gummMobileMenu.settings,options);this.button=$(this.options.button);this.wrap=$(this.options.wrap);this.items=this.element.find(this.options.items);this.dropdownButtons=this.items.find(this.options.dropdownLink);this.menu=$(this.options.menu);this.pageWrapper=$('#bb-page-wrapper');this.bindListeners();},setSubemuDataHeight:function(submenuItem){submenuItem.css({display:'block','height':'auto'});submenuItem.data('height',submenuItem.outerHeight());},open:function(){var _self=this;this.menu.css({display:'block'});this.menu.css({display:'block'});this.wrap.transit({x:250},500,function(){$('body').addClass('mobile-menu-active');});this.state='opened';},close:function(){var _self=this;this.wrap.transit({x:0},500,function(){$(this).removeAttr('style');_self.menu.css({display:'none'});$('body').removeClass('mobile-menu-active');});this.state='closed';},bindListeners:function(){var _self=this;this.button.on('click',function(e){e.preventDefault();e.stopPropagation();if(_self.state==='closed'){_self.open();}else{_self.close();}});this.dropdownButtons.on('click',function(e){e.preventDefault();if($(this).hasClass(_self.options.dropDownClassClose)){$(this).removeClass(_self.options.dropDownClassClose);$(this).addClass(_self.options.dropDownClassOpen);var submenuItem=$(this).parent().children(_self.options.subMenuItems);submenuItem.removeClass('dropdown-state-open').addClass('dropdown-state-close');submenuItem.slideUp(400,'easeInOutExpo');}else{$(this).removeClass(_self.options.dropDownClassOpen);$(this).addClass(_self.options.dropDownClassClose);var submenuItem=$(this).parent().children(_self.options.subMenuItems);submenuItem.slideDown(400,'easeInOutExpo');submenuItem.addClass('dropdown-state-open').addClass('dropdown-state-open');}});try{if(Modernizr.touch){this.wrap.hammer({drag:false,hold:false,release:false,swipe:true,swipe_velocity:.5,tap:false,touch:true,transform:false,prevent_mouseevents:true}).on('swiperight',function(e){var $target=$(e.target);if(!$target.is(_self.options.preventTouchEventsOn)&&!$target.parent().is(_self.options.preventTouchEventsOn)){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();_self.open();}}).on('swipeleft',function(e){if(!$(e.target).hasClass('swiper-slide')){_self.close();}}).on('touch',function(e){if(_self.state==='opened'){_self.close();}});}}catch(err){}
this.wrap.on('touchmove',function(e){if(_self.state==='opened'){e.preventDefault();}});$('body').on('gummContentLoading',function(e){if(_self.state==='opened'){_self.close();}});}}
$.fn.gummMobileMenu=function gummMobileMenuFn(options,callback){this.each(function(){var instance=$.data(this,'gummMobileMenu');if(instance){}else{$.data(this,'gummMobileMenu',new $.gummMobileMenu(options,callback,this));}});return this;}
$.gummDiscreteLabeledForm=function(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummDiscreteLabeledForm.prototype={__construct:function(options,callback){this.inputs=this.element.find('input, textarea');this.bindListeners();},bindListeners:function(){this.inputs.on('focus',function(e){if($(this).val()===$(this).data('default-label')){$(this).val('').removeClass('default-label-on');}});this.inputs.on('blur',function(e){if($(this).val()===$(this).data('default-label')){$(this).addClass('default-label-on');}else if($(this).val().length<1){$(this).val($(this).data('default-label')).addClass('default-label-on');}});}}
$.fn.gummDiscreteLabeledForm=function gummDiscreteLabeledFormFn(options,callback){this.each(function(){var instance=$.data(this,'gummDiscreteLabeledForm');if(instance){}else{$.data(this,'gummDiscreteLabeledForm',new $.gummDiscreteLabeledForm(options,callback,this));}});return this;}
$.gummContentReveal=function gummMobileMenu(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummContentReveal.settings={content:'.iphone-content',wrap:'.iphone-wrap',maxRelRight:500}
$.gummContentReveal.prototype={lastPageX:0,mouseRelX:0,dir:null,contentEle:null,wrapEle:null,offsetLeft:null,screenWidth:null,currMatrix:[0,0],__construct:function(options){this.options=$.extend(true,{},$.gummContentReveal.settings,options);if(this.element.data('max-rel-right')!==undefined)this.options.maxRelRight=this.element.data('max-rel-right');this.wrapEle=this.element.find(this.options.wrap);this.bindListeners();},reveal:function(mx){this.lastPageX=mx;var relX=mx-this.offsetLeft;this.setDir(relX);var maxRelRight=this.options.maxRelRight;var bgPosition=null;var animate=false;var currGoToLeft=-relX;if(relX>0&&relX<=maxRelRight){relX=this.options.maxRelRight-relX;bgPosition='-'+relX+'px 0px';}else if(relX>maxRelRight&&relX<(maxRelRight+25)){bgPosition='0px 0px';currGoToLeft=0;}else if(relX<0&&relX>-25){bgPosition='-'+this.options.maxRelRight+'px 0px';currGoToLeft=this.options.maxRelRight;}
if(bgPosition!==null){if(animate){this.contentEle.stop().animate({backgroundPosition:bgPosition},250);}else{this.contentEle.stop().css({backgroundPosition:bgPosition});}
this.mouseRelX=relX;}},setDir:function(relX){this.dir=(relX>this.mouseRelX)?'right':'left';},getDir:function(){return this.dir;},bindListeners:function(){var _self=this;this.element.on('mousemove',function(e){if(_self.contentEle===null)
_self.contentEle=_self.element.find(_self.options.content);if(_self.offsetLeft===null)
_self.offsetLeft=_self.contentEle.offset().left;if(_self.screenWidth===null)
_self.screenWidth=_self.wrapEle.width();_self.reveal(e.pageX);});this.element.on('mouseleave',function(e){_self.contentEle.animate({backgroundPosition:'-'+_self.options.maxRelRight+'px 0px'},350);});}}
$.fn.gummContentReveal=function gummContentRevealFn(options,callback){this.each(function(){var instance=$.data(this,'gummContentReveal');if(instance){}else{$.data(this,'gummContentReveal',new $.gummContentReveal(options,callback,this));}});return this;}
$.gummGaugeChart=function(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.gummGaugeChart.prototype={ctx:null,degrees:0,drawnDegrees:0,diff:0,lineWidth:10,animationInterval:null,step:1,refreshRate:10,supportGummScrollr:true,__construct:function(options,callback){if(this.element.get(0).getContext===undefined){return false;}
this.width=this.element.data('width');this.height=this.element.data('height');this.lineWidth=this.element.data('line-width');this.percent=parseInt(this.element.data('percent'));this.color=this.element.data('color');this.bgColor=this.element.data('background-color');this.textSource=this.element.data('text-source');this.textBox=$(this.element.data('text-box'));this.fontSize=this.element.data('font-size');this.speed=this.element.data('animation-speed');if(this.speed===undefined){this.speed=300;}else{this.speed=parseInt(this.speed);}
this.degrees=Math.floor(360*this.percent/100);this.radius=Math.min(this.width,this.height)/2-(this.lineWidth/2);this.step=this.degrees/(this.speed/this.refreshRate)
this.ctx=this.element.get(0).getContext("2d");this.renderContentBox();var _self=this;if(this.supportGummScrollr){this.element.bind('gummScrollred',function(){_self.start();});}else{this.start();}},renderContentBox:function(){if(this.textBox.length>0){this.textBox.css({position:'absolute',top:'50%',left:'50%',fontSize:this.fontSize,lineHeight:this.fontSize+'px',color:this.color});if(this.textSource==='symbol'){this.textBox.children('.number').text(Math.ceil(this.drawnDegrees/360*100));}
var _self=this;setTimeout(function(){var width=_self.textBox.width();var height=_self.textBox.height();_self.textBox.css({marginLeft:-(Math.floor(width/2)),marginTop:-(Math.floor(height/2))});},1);}},start:function(){var _self=this;if(this.speed>0){this.animationInterval=setInterval(function(){_self.animate();},this.refreshRate);}else{this.draw(this.degrees);}},animate:function(){if(this.drawnDegrees===this.degrees){clearInterval(this.animationInterval);}else{this.drawnDegrees+=this.step;if(this.drawnDegrees>this.degrees){this.drawnDegrees=this.degrees;}
this.draw(this.drawnDegrees);}},draw:function(degrees){this.ctx.clearRect(0,0,this.width,this.height);this.ctx.beginPath();this.ctx.strokeStyle=this.bgColor;this.ctx.lineWidth=this.lineWidth;this.ctx.arc(this.width/2,this.height/2,this.radius,0,Math.PI*2,false);this.ctx.stroke();var radians=degrees*Math.PI/180;this.ctx.beginPath();this.ctx.strokeStyle=this.color;this.ctx.lineWidth=this.lineWidth;this.ctx.arc(this.width/2,this.height/2,this.radius,0-90*Math.PI/180,radians-90*Math.PI/180,false);this.ctx.stroke();this.renderContentBox();}}
$.fn.gummGaugeChart=function gummGaugeChartFn(options,callback){this.each(function(){var instance=$.data(this,'gummGaugeChart');if(instance){}else{$.data(this,'gummGaugeChart',new $.gummGaugeChart(options,callback,this));}});return this;}
$.gummTermsScroller=function gummTermsScroller(options,callback,element){this.element=$(element);this.__construct();}
$.gummTermsScroller.settings={nav:'.terms-alphabet',navItems:'li > a',content:'.offers-table',contentItems:'tr.new-letter'}
$.gummTermsScroller.prototype={navOriginTop:0,topDeviation:10,navHeight:0,navWidth:0,navClone:null,navState:'attached',activeTerm:null,activeTermItem:null,contentItemsOffsets:[],animating:false,__construct:function(options,callback){this.options=$.extend(true,{},$.gummTermsScroller.settings,options);this.navElement=this.element.find(this.options.nav);this.navItems=this.navElement.find(this.options.navItems);this.content=this.element.find(this.options.content);this.contentItems=this.content.find(this.options.contentItems);var _self=this;this.contentItems.each(function(i,ele){_self.contentItemsOffsets.push({term:$(ele).data('scrolltotarget'),top:$(ele).offset().top,bottom:$(ele).height()+$(ele).offset().top});});if($('#wpadminbar').size()>0){this.topDeviation+=$('#wpadminbar').outerHeight();}
this.navOriginTop=this.getNavOffsetTop();this.navHeight=this.navElement.outerHeight();this.navWidth=this.navElement.width();this.navElement.css({position:'relative'});this.contentItems=this.element.find(this.options.contentItems);this.navClone=$('<div></div>');this.navClone.height(this.navHeight+parseInt(this.navElement.css('marginTop'))+parseInt(this.navElement.css('marginBottom'))).css({display:'none'});this.navElement.before(this.navClone);this.lastWindowWidth=$('body').width();this.bindListeners();},getNavOffsetTop:function(){return this.navElement.offset().top-this.topDeviation;},getNavOriginTop:function(){return this.element.offset().top-this.topDeviation;},setActiveTerm:function(term){if(term===null){this.navItems.parent().removeClass('selected');this.activeTermItem=null;this.activeTerm=null;}else if(term!==undefined){var theItem=this.navItems.filter('[data-scrollto='+term+']');if($(this.activeTermItem).size()>0){this.activeTermItem.parent().removeClass('selected');}
theItem.parent().addClass('selected');this.activeTermItem=theItem;this.activeTerm=term;}},getCurrentScrolledToTerm:function(scrollTop){scrollTop+=this.topDeviation+this.navElement.outerHeight()+20;var term=null;$.each(this.contentItemsOffsets,function(i,ele){if(scrollTop>(ele.top+20)&&scrollTop<(ele.bottom-20)){term=ele.term;return;}});return term;},bindListeners:function(){var _self=this;$(window).on('scroll',function(e){var windowTop=$(this).scrollTop();var originTop=_self.getNavOriginTop();if(windowTop>_self.getNavOriginTop()&&_self.navState=='attached'){_self.navState='detached';_self.navElement.addClass('detached').css({position:'fixed',top:_self.topDeviation,left:_self.content.offset().left}).innerWidth(_self.content.width());_self.navClone.show();}else if(windowTop<=_self.getNavOriginTop()&&_self.navState=='detached'){_self.navState='attached';_self.navElement.removeClass('detached').css({position:'relative',top:'auto',left:'auto',width:''});_self.navClone.hide();_self.setActiveTerm(null);}
if(_self.navState=='detached'&&_self.animating===false){var scrollToTerm=_self.getCurrentScrolledToTerm(windowTop);if(scrollToTerm!==null&&scrollToTerm!=_self.activeTerm){_self.setActiveTerm(scrollToTerm);}}});$(window).on('resize',function(e){var width=_self.navElement.parent().width();_self.navElement.innerWidth(width);_self.navWidth=width;});$(document).on('gummLayoutChanged',function(e){if(_self.navState=='detached'){_self.navElement.css({left:_self.content.offset().left});}});this.navItems.on('click',function(e){e.preventDefault();if($(this).parent().hasClass('no-terms')||_self.animating)return false;_self.animating=true;var target=$(this).data('scrollto');_self.setActiveTerm(target);$('html, body').animate({scrollTop:_self.contentItems.filter('[data-scrolltotarget='+target+']').offset().top-100},500,function(){_self.animating=false;});});}}
$.fn.gummTermsScroller=function gummTermsScrollerFn(options,callback){this.each(function(){var instance=$.data(this,'gummTermsScroller');if(instance){}else{$.data(this,'gummTermsScroller',new $.gummTermsScroller(options,callback,this));}});return this;}
$.bboxBgPlayer=function(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.bboxBgPlayer.settings={loop:true,autoplay:true,mute:true,slideshowSpeed:5000,fullScreen:false}
$.bboxBgPlayer.prototype={currentIndex:0,current:'',volumeIconClasses:['icon-volume-off','icon-volume-down','icon-volume-up'],currentVolume:0,hasImages:false,hasVideo:false,mediaTypesMap:{},slideshowTimeout:null,slideshowTimeoutInnerTimeout:null,inSlideshow:false,firstVideoInitialized:false,inFullScreen:false,__construct:function(options,callback){var _self=this;this.isTouch=Modernizr.touch;if(this.isTouch){return;}
this.options=$.extend(true,{},$.bboxBgPlayer.settings,this.element.data(),options);this.container=$('#bb-loadable-content');this.imagesContainer=$('<div id="bbox-bg-player-images-wrap">');if(!this.options.autoplay){this.options.slideshowSpeed=10000;}
this.playlist=$(this.element).data('playlist').split(',');this.current=this.playlist[this.currentIndex];this.buttonBack=$(this.element).find('.player-button.backward');this.buttonPlay=$(this.element).find('.player-button.play');this.buttonPause=this.buttonPlay.clone();this.buttonFrwrd=$(this.element).find('.player-button.forward');this.buttonVolume=$(this.element).find('.player-button.volume');this.buttonPause.removeClass('play').addClass('pause').hide().find('i').removeClass('icon-play').addClass('icon-pause');this.buttonPlay.after(this.buttonPause);this.setupImagesForPlaylist();this.player=false;if(this.hasVideo){this.bigVideo=new $.BigVideo({forceAutoplay:this.isTouch,controls:false,autoplay:false,container:this.container});this.bigVideo.init();this.player=this.bigVideo.getPlayer();}
if(this.isImage(this.currentIndex)){var $currentImage=this.imagesContainer.children('.index-'+this.currentIndex);$currentImage.addClass('current');imagesLoaded($currentImage,function(){_self.ready.call(_self);if(_self.options.autoplay){_self.slideshowStart();}});}else{this.bigVideo.show(this.current,{ambient:false,doLoop:this.options.loop});}
if(!this.options.mute){this.currentVolume=0.8;}
if(this.options.fullScreen===true){this.initFullScreen();}
this.bindListeners();},ready:function(){$('#bb-page-loader-icon').hide();$('body').addClass('has-bg-player');},slideshowStart:function(){var _self=this;this.inSlideshow=true;this.slideshowTimeout=setTimeout(function(){_self.playNext();_self.slideshowTimeoutInnerTimeout=_self.slideshowStart();},this.options.slideshowSpeed);this.buttonPlay.hide();this.buttonPause.show();},slideshowEnd:function(){this.inSlideshow=false;clearTimeout(this.slideshowTimeout);clearTimeout(this.slideshowTimeoutInnerTimeout);this.buttonPlay.show();this.buttonPause.hide();},play:function(){this.buttonPlay.hide();this.buttonPause.show();if(!this.isImage(this.currentIndex)&&this.player.paused()){this.player.play();}else if(this.isImage(this.currentIndex)&&!this.inSlideshow){this.slideshowStart();}
if(this.options.fullScreen&&!this.inFullScreen){this.initFullScreen();}},pause:function(){this.buttonPlay.show();this.buttonPause.hide();if(!this.isImage(this.currentIndex)&&!this.player.paused()){this.player.pause();}else if(this.isImage(this.currentIndex)&&this.inSlideshow){this.slideshowEnd();}
if(this.options.fullScreen&&this.inFullScreen){this.exitFullScreen();}},mute:function(){if(this.currentVolume>0){this.changeVolume(0);}else{this.changeVolume(0.8);}},changeVolume:function(val){var volIconClassIndex=0;if(val<=0.4&&val>0){volIconClassIndex=1;}else if(val>0.4){volIconClassIndex=2;}
this.currentVolume=val;this.buttonVolume.find('i').removeClass('icon-volume-off icon-volume-down icon-volume-up').addClass(this.volumeIconClasses[volIconClassIndex]);this.player.volume(val);},playNext:function(){var nextIndex=this.currentIndex+1;if((nextIndex+1)>this.playlist.length){nextIndex=0;}
this.playForIndex(nextIndex);},playPrev:function(){var nextIndex=this.currentIndex-1;if(nextIndex<0){nextIndex=this.playlist.length-1;}
this.playForIndex(nextIndex);},playForIndex:function(index,options){this.currentIndex=index;this.current=this.playlist[this.currentIndex];if(this.isImage(index)){this.imagesContainer.children().removeClass('current');this.imagesContainer.children('.index-'+index).addClass('current');}else{this.player.options({autoplay:true});this.bigVideo.show(this.current,{ambient:false,doLoop:this.options.loop});this.play();}},isImage:function(index){return this.mediaTypesMap[index]==='image';},areAllImages:function(){},setupImagesForPlaylist:function(){var _self=this;$.each(this.playlist,function(i,url){var ext=url.substring(url.lastIndexOf('.')+1);if(ext==='jpg'||ext==='gif'||ext==='png'){var _img=$('<img src="'+url+'">');_img.load(function(e){});_self.mediaTypesMap[i]='image';_self.hasImages=true;var theImageItem=$('<div class="bbox-bg-player-image index-'+i+'">');theImageItem.css({backgroundImage:"url('"+url+"')"});_self.imagesContainer.append(theImageItem);}else{_self.hasVideo=true;_self.mediaTypesMap[i]='video';}});if(!this.hasVideo){this.container.prepend('<div id="big-video-wrap"></div>');}
if(this.hasImages){$('#big-video-wrap').append(this.imagesContainer);}
if(!this.hasVideo){this.buttonVolume.hide();}else{this.buttonVolume.show();}},initFullScreen:function(){if(this.screenLayoutParts===undefined){var _self=this;$(window).on('load',function(){$(this).scrollTop(0);});this.screenLayoutParts=[$('header.top-bar'),$('#bb-header-logo'),$('#header-countdown-timer'),$('.content-wrap')];this.fullScreenBox=$('<div id="bb-full-screen-bounds">');$('body').append(this.fullScreenBox);this.fullScreenBox.on('click',function(e){_self.pause();});$('#bb-page-loader-icon').show();}else{this.fullScreenBox.show();}
this.inFullScreen=true;var windowWidth=$(window).width();var windowHeight=$(window).height();this.screenLayoutParts[0].transit({y:-40});this.screenLayoutParts[1].transit({y:-110,x:-100});this.screenLayoutParts[2].transit({y:-110,x:250});this.screenLayoutParts[3].transit({y:windowHeight-10-this.screenLayoutParts[3].offset().top,x:300});$('body').css({overflow:'hidden'});},exitFullScreen:function(){this.inFullScreen=false;var _self=this;this.screenLayoutParts[0].transit({y:0});this.screenLayoutParts[1].transit({y:0,x:0});this.screenLayoutParts[2].transit({y:0,x:0});this.screenLayoutParts[3].transit({y:0,x:0},function(){_self.fullScreenBox.css('display','none');});$('body').css({overflow:''});},bindListeners:function(){var _self=this;this.buttonPlay.on('click',function(e){e.preventDefault();_self.play();});this.buttonPause.on('click',function(e){e.preventDefault();_self.pause();});this.buttonVolume.on('click',function(e){e.preventDefault();_self.mute();});this.buttonFrwrd.on('click',function(e){e.preventDefault();_self.playNext();});this.buttonBack.on('click',function(e){e.preventDefault();_self.playPrev();});if(this.player!==false){this.player.on('loadedmetadata',function(){if(_self.firstVideoInitialized===false){_self.firstVideoInitialized=true;_self.ready.call(_self);$('#big-video-vid').css('visibility','visible');if(_self.options.autoplay){_self.play();}else{$('body').removeClass('bb-bg-video-playing').addClass('bb-bg-video-paused');}
if(_self.options.mute){_self.changeVolume(0);}else{_self.cangeVolume(0.8);}}});this.player.ready(function(){});this.player.on('pause',function(){$('body').removeClass('bb-bg-video-playing').addClass('bb-bg-video-paused');});this.player.on('play',function(){$('body').removeClass('bb-bg-video-paused').addClass('bb-bg-video-playing');});}
$('body').on('gummBeforeContentLoaded',{player:this.player},this.disposePlayer);$('body').on('gummContentLoading',function(e){if(_self.inSlideshow){_self.slideshowEnd();}
$('body').removeClass('has-bg-player');});},disposePlayer:function(e){$('body').off('gummBeforeContentLoaded',this.disposePlayer);try{if(e.data.player){e.data.player.dispose();}}catch(err){}},}
$.fn.bboxBgPlayer=function bboxBgPlayerFn(options,callback){this.each(function(){var instance=$.data(this,'bboxBgPlayer');if(instance){}else{$.data(this,'bboxBgPlayer',new $.bboxBgPlayer(options,callback,this));}});return this;}
$.bboxCountdownTimer=function(options,callback,element){this.element=$(element);this.__construct(options,callback);}
$.bboxCountdownTimer.settings={}
$.bboxCountdownTimer.prototype={intervalHolder:null,__construct:function(options,callback){var _self=this;this.options=$.extend(true,{},$.bboxCountdownTimer.settings,this.element.data(),options);this.cellsContainer=this.element.find('.countdown');this.dayCell=this.element.find('.cell.counter-days-wrapper');this.hourCell=this.element.find('.cell.counter-hours-wrapper');this.minuteCell=this.element.find('.cell.counter-minutes-wrapper');this.secondCell=this.element.find('.cell.counter-seconds-wrapper');if(this.totalSecondsLeft()>0){this.intervalHolder=setInterval(function(){_self.count();if(_self.totalSecondsLeft()<=0){clearTimeout(_self.intervalHolder);}},1000);}},count:function(){var seconds=this.value('second');if(seconds===0){seconds=59;this.decreaseMinute();}else{--seconds;if(seconds<0){seconds=0;}}
this.value('second',seconds);},decreaseMinute:function(){var minutes=this.value('minute');if(minutes===0){minutes=59;this.decreaseHour();}else{--minutes;if(minutes<0){minutes=0;}}
this.value('minute',minutes);},decreaseHour:function(){var hours=this.value('hour');if(hours===0&&this.value('day')>0){hours=23;this.decreaseDay();}else{--hours;if(hours<0){hours=0;}}
this.value('hour',hours);},decreaseDay:function(){var days=this.value('day');--days;if(days<0){days=0;}
this.value('day',days);},value:function(type,val){switch(type){case'day':if(val!==undefined){this.dayCell.children('strong').eq(0).text(val);this.label('day',val);}else{return parseInt(this.dayCell.children('strong').eq(0).text());}
break;case'hour':if(val!==undefined){this.hourCell.children('strong').eq(0).text(val);this.label('hour',val);}else{return parseInt(this.hourCell.children('strong').eq(0).text());}
break;case'minute':if(val!==undefined){this.minuteCell.children('strong').eq(0).text(val);this.label('minute',val);}else{return parseInt(this.minuteCell.children('strong').eq(0).text());}
break;case'second':if(val!==undefined){this.secondCell.children('strong').eq(0).text(val);this.label('second',val);}else{return parseInt(this.secondCell.children('strong').eq(0).text());}
break;}},label:function(type,val){switch(type){case'day':if(val!==undefined){var theEle=this.hourCell.children('span').eq(0);if(val!==undefined){var theLabel=this.hourCell.data('plural');if(val==1){theLabel=this.hourCell.data('singular');}
this.hourCell.children('span').eq(0).text(theLabel);}}else{return this.dayCell.children('span').eq(1).text();}
break;case'hour':if(val!==undefined){var theEle=this.hourCell.children('span').eq(0);if(val!==undefined){var theLabel=this.hourCell.data('plural');if(val==1){theLabel=this.hourCell.data('singular');}
this.hourCell.children('span').eq(0).text(theLabel);}else{return this.hourCell.children('span').eq(0).text();}}else{return this.hourCell.children('span').eq(1).text();}
break;case'minute':if(val!==undefined){var theEle=this.minuteCell.children('span').eq(0);if(val!==undefined){var theLabel=this.minuteCell.data('plural');if(val==1){theLabel=this.minuteCell.data('singular');}
this.minuteCell.children('span').eq(0).text(theLabel);}else{return this.minuteCell.children('span').eq(0).text();}}else{return this.minuteCell.children('span').eq(0).text();}
break;case'second':var theEle=this.secondCell.children('span').eq(0);if(val!==undefined){var theLabel=this.secondCell.data('plural');if(val==1){theLabel=this.secondCell.data('singular');}
this.secondCell.children('span').eq(0).text(theLabel);}else{return this.secondCell.children('span').eq(0).text();}
break;}},totalSecondsLeft:function(){return this.value('second')+this.value('minute')*60+this.value('hour')*60*60+this.value('day')*60*60*24;}}
$.fn.bboxCountdownTimer=function bboxCountdownTimerFn(options,callback){this.each(function(){var instance=$.data(this,'bboxCountdownTimer');if(instance){}else{$.data(this,'bboxCountdownTimer',new $.bboxCountdownTimer(options,callback,this));}});return this;}})(jQuery);(function($){if(!document.defaultView||!document.defaultView.getComputedStyle){var oldCurCSS=$.css;$.css=function(elem,name,force){if(name==='background-position'){name='backgroundPosition';}
if(name!=='backgroundPosition'||!elem.currentStyle||elem.currentStyle[name]){return oldCurCSS.apply(this,arguments);}
var style=elem.style;if(!force&&style&&style[name]){return style[name];}
return oldCurCSS(elem,'backgroundPositionX',force)+' '+oldCurCSS(elem,'backgroundPositionY',force);};}
var oldAnim=$.fn.animate;$.fn.animate=function(prop){if('background-position'in prop){prop.backgroundPosition=prop['background-position'];delete prop['background-position'];}
if('backgroundPosition'in prop){prop.backgroundPosition='('+prop.backgroundPosition;}
return oldAnim.apply(this,arguments);};function toArray(strg){strg=strg.replace(/left|top/g,'0px');strg=strg.replace(/right|bottom/g,'100%');strg=strg.replace(/([0-9\.]+)(\s|\)|$)/g,"$1px$2");var res=strg.match(/(-?[0-9\.]+)(px|\%|em|pt)\s(-?[0-9\.]+)(px|\%|em|pt)/);return[parseFloat(res[1],10),res[2],parseFloat(res[3],10),res[4]];}
$.fx.step.backgroundPosition=function(fx){if(!fx.bgPosReady){var start=$.css(fx.elem,'backgroundPosition');if(!start){start='0px 0px';}
start=toArray(start);fx.start=[start[0],start[2]];var end=toArray(fx.end);fx.end=[end[0],end[2]];fx.unit=[end[1],end[3]];fx.bgPosReady=true;}
var nowPosX=[];nowPosX[0]=((fx.end[0]-fx.start[0])*fx.pos)+fx.start[0]+fx.unit[0];nowPosX[1]=((fx.end[1]-fx.start[1])*fx.pos)+fx.start[1]+fx.unit[1];fx.elem.style.backgroundPosition=nowPosX[0]+' '+nowPosX[1];};})(jQuery);;;window.Modernizr=function(a,b,c){function A(a){i.cssText=a}function B(a,b){return A(m.join(a+";")+(b||""))}function C(a,b){return typeof a===b}function D(a,b){return!!~(""+a).indexOf(b)}function E(a,b){for(var d in a){var e=a[d];if(!D(e,"-")&&i[e]!==c)return b=="pfx"?e:!0}return!1}function F(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:C(f,"function")?f.bind(d||b):f}return!1}function G(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+o.join(d+" ")+d).split(" ");return C(b,"string")||C(b,"undefined")?E(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),F(e,b,c))}var d="2.6.2",e={},f=b.documentElement,g="modernizr",h=b.createElement(g),i=h.style,j,k=":)",l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={},r={},s={},t=[],u=t.slice,v,w=function(a,c,d,e){var h,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:g+(d+1),l.appendChild(j);return h=["&#173;",'<style id="s',g,'">',a,"</style>"].join(""),l.id=g,(m?l:n).innerHTML+=h,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=f.style.overflow,f.style.overflow="hidden",f.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),f.style.overflow=k),!!i},x=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=C(e[d],"function"),C(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),y={}.hasOwnProperty,z;!C(y,"undefined")&&!C(y.call,"undefined")?z=function(a,b){return y.call(a,b)}:z=function(a,b){return b in a&&C(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=u.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(u.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(u.call(arguments)))};return e}),q.flexbox=function(){return G("flexWrap")},q.flexboxlegacy=function(){return G("boxDirection")},q.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:w(["@media (",m.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c},q.rgba=function(){return A("background-color:rgba(150,255,150,.5)"),D(i.backgroundColor,"rgba")},q.hsla=function(){return A("background-color:hsla(120,40%,100%,.5)"),D(i.backgroundColor,"rgba")||D(i.backgroundColor,"hsla")},q.multiplebgs=function(){return A("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(i.background)},q.backgroundsize=function(){return G("backgroundSize")},q.borderimage=function(){return G("borderImage")},q.borderradius=function(){return G("borderRadius")},q.boxshadow=function(){return G("boxShadow")},q.textshadow=function(){return b.createElement("div").style.textShadow===""},q.opacity=function(){return B("opacity:.55"),/^0.55$/.test(i.opacity)},q.cssanimations=function(){return G("animationName")},q.csscolumns=function(){return G("columnCount")},q.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return A((a+"-webkit- ".split(" ").join(b+a)+m.join(c+a)).slice(0,-a.length)),D(i.backgroundImage,"gradient")},q.cssreflections=function(){return G("boxReflect")},q.csstransforms=function(){return!!G("transform")},q.csstransforms3d=function(){var a=!!G("perspective");return a&&"webkitPerspective"in f.style&&w("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},q.csstransitions=function(){return G("transition")},q.fontface=function(){var a;return w('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&g.indexOf(d.split(" ")[0])===0}),a},q.generatedcontent=function(){var a;return w(["#",g,"{font:0/0 a}#",g,':after{content:"',k,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a};for(var H in q)z(q,H)&&(v=H.toLowerCase(),e[v]=q[H](),t.push((e[v]?"":"no-")+v));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)z(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof enableClasses!="undefined"&&enableClasses&&(f.className+=" "+(b?"":"no-")+a),e[a]=b}return e},A(""),h=j=null,function(a,b){function k(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function l(){var a=r.elements;return typeof a=="string"?a.split(" "):a}function m(a){var b=i[a[g]];return b||(b={},h++,a[g]=h,i[h]=b),b}function n(a,c,f){c||(c=b);if(j)return c.createElement(a);f||(f=m(c));var g;return f.cache[a]?g=f.cache[a].cloneNode():e.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),g.canHaveChildren&&!d.test(a)?f.frag.appendChild(g):g}function o(a,c){a||(a=b);if(j)return a.createDocumentFragment();c=c||m(a);var d=c.frag.cloneNode(),e=0,f=l(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function p(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?n(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(r,b.frag)}function q(a){a||(a=b);var c=m(a);return r.shivCSS&&!f&&!c.hasCSS&&(c.hasCSS=!!k(a,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),j||p(a,c),a}var c=a.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,e=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,g="_html5shiv",h=0,i={},j;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",f="hidden"in a,j=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){f=!0,j=!0}})();var r={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,supportsUnknownElements:j,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:q,createElement:n,createDocumentFragment:o};a.html5=r,q(b)}(this,b),e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.hasEvent=x,e.testProp=function(a){return E([a])},e.testAllProps=G,e.testStyles=w,e.prefixed=function(a,b,c){return b?G(a,b,c):G(a,"pfx")},e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
;/*!
 * Bootstrap v3.0.2 by @fat and @mdo
 * Copyright 2013 Twitter, Inc.
 * Licensed under http://www.apache.org/licenses/LICENSE-2.0
 *
 * Designed and built with all the love in the world by @mdo and @fat.
 */

if("undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]');if(a.length){var b=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===b.prop("type")&&a.find(".active").removeClass("active")}this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?(this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350),void 0):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),+function(a){"use strict";function b(){a(d).remove(),a(e).each(function(b){var d=c(a(this));d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown"))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b),f.trigger(d=a.Event("show.bs.dropdown")),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a("[role=menu] li:not(.divider):visible a",f);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",f.prototype.keydown)}(jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(c).is("body")?a(window):a(c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery);
;;(function($,window,undefined){'use strict';var Modernizr=window.Modernizr;$.Windy=function(options,element){this.$el=$(element);this._init(options);};$.Windy.defaults={nextEl:'',prevEl:'',boundaries:{rotateX:{min:40,max:90},rotateY:{min:-15,max:15},rotateZ:{min:-10,max:10},translateX:{min:-200,max:200},translateY:{min:-400,max:-200},translateZ:{min:250,max:550}},endBoundaries:{rotateX:{min:5,max:15},rotateY:{min:-2,max:2},rotateZ:{min:-2,max:2},translateX:{min:-10,max:-2},translateY:{min:-20,max:-2},translateZ:{min:5,max:15}},items:'.wi-item',itemsContainer:'.wi-container',controlNav:false,directionNav:true};$.Windy.prototype={$controlNavItems:[],_init:function(options){this.options=$.extend(true,{},$.Windy.defaults,options);if(this.$el.data('control-nav')!==undefined)this.options.controlNav=Boolean(this.$el.data('control-nav'));if(this.$el.data('direction-nav')!==undefined)this.options.directionNav=Boolean(this.$el.data('direction-nav'));if(this.options.directionNav===false){this.options.prevEl='';this.options.nextEl='';}
this.$itemsContainer=this.$el.find(this.options.itemsContainer);this.transEndEventNames={'WebkitTransition':'webkitTransitionEnd','MozTransition':'transitionend','OTransition':'oTransitionEnd','msTransition':'MSTransitionEnd','transition':'transitionend'};this.transEndEventName=this.transEndEventNames[Modernizr.prefixed('transition')];this.$items=this.$itemsContainer.children(this.options.items);var _maxHeight=0;this.$items.each(function(i,ele){$(ele).css({float:'left',display:'block',visibility:'hidden',position:'relative'});if($(ele).outerHeight()>_maxHeight)_maxHeight=$(ele).outerHeight();$(ele).css({float:'none',display:'none',visibility:'visible'});});this.itemsCount=this.$items.length;this.resetTransformStr='translateX( 0px ) translateY( 0px ) translateZ( 0px ) rotateX( 0deg ) rotateY( 0deg ) rotateZ( 0deg )';this.supportTransitions=Modernizr.csstransitions;this.support3d=Modernizr.csstransforms3d;this.current=0;this.$items.eq(this.current).show();var _self=this;if(this.options.controlNav){this.$controlNavContainer=$('<ul class="slider-control-nav"></ul>');_self.$items.each(function(i,item){var controlItem=$('<li><a href="#"></a></li>');if(i==_self.current)controlItem.addClass('current');_self.$controlNavItems.push(controlItem);_self.$controlNavContainer.append(controlItem);});var $controlNavWrapper=$('<div class="bullets-wrap"></div>');$controlNavWrapper.append(_self.$controlNavContainer);_self.$el.append($controlNavWrapper);}
this._initEvents();},_getRandTransform:function(boundaries){var boundaries=$.extend(true,{},this.options.boundaries,boundaries);return{rx:Math.floor(Math.random()*(boundaries.rotateX.max-boundaries.rotateX.min+1)+boundaries.rotateX.min),ry:Math.floor(Math.random()*(boundaries.rotateY.max-boundaries.rotateY.min+1)+boundaries.rotateY.min),rz:Math.floor(Math.random()*(boundaries.rotateZ.max-boundaries.rotateZ.min+1)+boundaries.rotateZ.min),tx:Math.floor(Math.random()*(boundaries.translateX.max-boundaries.translateX.min+1)+boundaries.translateX.min),ty:Math.floor(Math.random()*(boundaries.translateY.max-boundaries.translateY.min+1)+boundaries.translateY.min),tz:Math.floor(Math.random()*(boundaries.translateZ.max-boundaries.translateZ.min+1)+boundaries.translateZ.min)};},_initEvents:function(){var self=this;this.$items.on(this.transEndEventName,function(event){self._onTransEnd($(this));});if(this.options.nextEl!==''){this.options.nextEl=this.$el.find(this.options.nextEl);$(this.options.nextEl).on('click.windy',function(){self.next();return false;});}
if(this.options.prevEl!==''){this.options.prevEl=this.$el.find(this.options.prevEl);$(this.options.prevEl).on('click.windy',function(){self.prev();return false;});}
if(this.options.controlNav){this.$controlNavContainer.children().on('click',function(e){e.preventDefault();var indexDiff=self.current-$(this).index();var indexDiffAbs=Math.abs(indexDiff);for(var i=0;i<indexDiffAbs;i++){var itemNumAppend=(indexDiff<0)?1:-1;setTimeout(function(){self.navigate(self.current+itemNumAppend);},i*.4*150);}});}
$(window).resize(function(){});},_onTransEnd:function(el){el.removeClass('wi-move');if(el.data('dir')==='right'){var styleStart={zIndex:1,opacity:1,position:'relative'};if(this.support3d){styleStart.transform=this.resetTransformStr;}
else if(this.supportTransitions){styleStart.left=0;styleStart.top=0;}
el.hide().css(styleStart);}else{el.next().hide();}},navigate:function(idx){var self=this,$current=this.$items.eq(this.current),$next=this.$items.eq(idx),randTranform=this._getRandTransform(),styleEnd={zIndex:this.itemsCount+20-idx,opacity:0},styleStart={opacity:1};if(this.support3d){styleStart.transform=self.resetTransformStr;styleEnd.transform='translateX('+randTranform.tx+'px) translateY('+randTranform.ty+'px) translateZ('+randTranform.tz+'px) rotateX('+randTranform.rx+'deg) rotateY('+randTranform.ry+'deg) rotateZ('+randTranform.rz+'deg)';}
else if(this.supportTransitions){styleStart.left=0;styleStart.top=0;styleEnd.left=randTranform.tx;styleEnd.top=randTranform.ty;}
if(idx>this.current){if(this.dir==='left'){this.$items.not($current).css('z-index',1).hide();}
this.dir='right';$current.addClass('wi-move').data('dir','right').css(styleEnd).css('position','absolute');$next.css('position','relative');if($next.hasClass('wi-move')){$next.removeClass('wi-move');}
$next.css(styleStart).show();if(!this.supportTransitions){this._onTransEnd($current);}}
else if(idx<this.current){this.dir='left';$next.data('dir','left').css(styleEnd).show().css({position:'relative'});$current.css({position:'absolute'});setTimeout(function(){$next.addClass('wi-move').data('dir','left').css(styleStart);if(!self.supportTransitions){self._onTransEnd($next);}},20);}
this.current=idx;if(this.options.controlNav){this.$controlNavContainer.children('.current').removeClass('current');this.$controlNavContainer.children().eq(idx).addClass('current');}},getItemsCount:function(){return this.itemsCount;},next:function(){if(this.current<this.itemsCount-1){var idx=this.current+1;this.navigate(idx);}else{var $current=this.$items.eq(this.current);var tr={};var randTranform=this._getRandTransform(this.options.endBoundaries);tr.transform='translateX('+randTranform.tx+'px) translateY('+randTranform.ty+'px) translateZ('+randTranform.tz+'px) rotateX('+randTranform.rx+'deg) rotateY('+randTranform.ry+'deg) rotateZ('+randTranform.rz+'deg)';$current.addClass('wi-move').css(tr);setTimeout(function(){tr.transform='translateX('+0+'px) translateY('+0+'px) translateZ('+0+'px) rotateX('+0+'deg) rotateY('+0+'deg) rotateZ('+0+'deg)';$current.addClass('wi-move').css(tr);},200);}},prev:function(){if(this.current>0){var idx=this.current-1;this.navigate(idx);}else{var $current=this.$items.eq(this.current);var tr={};var randTranform=this._getRandTransform(this.options.endBoundaries);tr.transform='translateX('+randTranform.tx+'px) translateY('+randTranform.ty+'px) translateZ('+randTranform.tz+'px) rotateX('+randTranform.rx+'deg) rotateY('+randTranform.ry+'deg) rotateZ('+randTranform.rz+'deg)';$current.addClass('wi-move').css(tr);setTimeout(function(){tr.transform='translateX('+0+'px) translateY('+0+'px) translateZ('+0+'px) rotateX('+0+'deg) rotateY('+0+'deg) rotateZ('+0+'deg)';$current.addClass('wi-move').css(tr);},200);}}};var logError=function(message){if(window.console){window.console.error(message);}};$.fn.windy=function(options){var instance=$.data(this,'windy');if(typeof options==='string'){var args=Array.prototype.slice.call(arguments,1);this.each(function(){if(!instance){logError("cannot call methods on windy prior to initialization; "+"attempted to call method '"+options+"'");return;}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){logError("no such method '"+options+"' for windy instance");return;}
instance[options].apply(instance,args);});}
else{this.each(function(){if(instance){instance._init();}
else{instance=$.data(this,'windy',new $.Windy(options,this));}});}
return instance;};})(jQuery,window);
;/*
 * iosSlider - http://iosscripts.com/iosslider/
 * 
 * Touch Enabled, Responsive jQuery Horizontal Content Slider/Carousel/Image Gallery Plugin
 *
 * A jQuery plugin which allows you to integrate a customizable, cross-browser 
 * content slider into your web presence. Designed for use as a content slider, carousel, 
 * scrolling website banner, or image gallery.
 * 
 * Copyright (c) 2013 Marc Whitbread
 * 
 * Version: v1.3.0 (06/25/2013)
 * Minimum requirements: jQuery v1.4+
 *
 * Advanced requirements:
 * 1) jQuery bind() click event override on slide requires jQuery v1.6+
 *
 * Terms of use:
 *
 * 1) iosSlider is licensed under the Creative Commons – Attribution-NonCommercial 3.0 License.
 * 2) You may use iosSlider free for personal or non-profit purposes, without restriction.
 *	  Attribution is not required but always appreciated. For commercial projects, you
 *	  must purchase a license. You may download and play with the script before deciding to
 *	  fully implement it in your project. Making sure you are satisfied, and knowing iosSlider
 *	  is the right script for your project is paramount.
 * 3) You are not permitted to make the resources found on iosscripts.com available for
 *    distribution elsewhere "as is" without prior consent. If you would like to feature
 *    iosSlider on your site, please do not link directly to the resource zip files. Please
 *    link to the appropriate page on iosscripts.com where users can find the download.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 */
 
(function(a){var na=0,W=0,da=0,M=0,Ba="ontouchstart"in window,Ca="onorientationchange"in window,ea=!1,aa=!1,X=!1,oa=!1,ha="pointer",sa="pointer",ia=[],S=[],ta=[],$=[],x=[],ba=[],F=[],j=[],q=[],ua=[],fa=[],e={showScrollbar:function(c,e){c.scrollbarHide&&a("."+e).css({opacity:c.scrollbarOpacity,filter:"alpha(opacity:"+100*c.scrollbarOpacity+")"})},hideScrollbar:function(a,f,b,u,d,g,j,q,z,w){if(a.scrollbar&&a.scrollbarHide)for(var x=b;x<b+25;x++)f[f.length]=e.hideScrollbarIntervalTimer(10*x,u[b],(b+ 24-x)/24,d,g,j,q,z,w,a)},hideScrollbarInterval:function(c,f,b,u,d,g,j,x,z){M=-1*c/q[x]*(d-g-j-u);e.setSliderOffset("."+b,M);a("."+b).css({opacity:z.scrollbarOpacity*f,filter:"alpha(opacity:"+100*z.scrollbarOpacity*f+")"})},slowScrollHorizontalInterval:function(c,f,b,u,d,g,T,N,z,w,K,s,r,t,H,n,k,y,h){if(h.infiniteSlider){if(b<=-1*q[n]){var C=a(c).width();if(b<=-1*ua[n]){var p=-1*K[0];a(f).each(function(b){e.setSliderOffset(a(f)[b],p+k);b<s.length&&(s[b]=-1*p);p+=H[b]});b+=-1*s[0];j[n]=-1*s[0]+k;q[n]= j[n]+C-g;F[n]=0}else{var m=0,I=e.getSliderOffset(a(f[0]),"x");a(f).each(function(b){e.getSliderOffset(this,"x")<I&&(I=e.getSliderOffset(this,"x"),m=b)});r=j[n]+C;e.setSliderOffset(a(f)[m],r);j[n]=-1*s[1]+k;q[n]=j[n]+C-g;s.splice(0,1);s.splice(s.length,0,-1*r+k);F[n]++}}if(b>=-1*j[n]||0<=b){C=a(c).width();if(0<=b){p=-1*K[0];a(f).each(function(b){e.setSliderOffset(a(f)[b],p+k);b<s.length&&(s[b]=-1*p);p+=H[b]});b-=-1*s[0];j[n]=-1*s[0]+k;q[n]=j[n]+C-g;for(F[n]=t;0<-1*s[0]-C+k;){var v=0,A=e.getSliderOffset(a(f[0]), "x");a(f).each(function(b){e.getSliderOffset(this,"x")>A&&(A=e.getSliderOffset(this,"x"),v=b)});r=j[n]-H[v];e.setSliderOffset(a(f)[v],r);s.splice(0,0,-1*r+k);s.splice(s.length-1,1);j[n]=-1*s[0]+k;q[n]=j[n]+C-g;F[n]--;x[n]++}}0>b&&(v=0,A=e.getSliderOffset(a(f[0]),"x"),a(f).each(function(b){e.getSliderOffset(this,"x")>A&&(A=e.getSliderOffset(this,"x"),v=b)}),r=j[n]-H[v],e.setSliderOffset(a(f)[v],r),s.splice(0,0,-1*r+k),s.splice(s.length-1,1),j[n]=-1*s[0]+k,q[n]=j[n]+C-g,F[n]--)}}K=!1;g=e.calcActiveOffset(h, b,s,g,F[n],t,w,n);r=(g+F[n]+t)%t;h.infiniteSlider?r!=ba[n]&&(K=!0):g!=x[n]&&(K=!0);if(K&&(t=new e.args("change",h,c,a(c).children(":eq("+r+")"),r,y),a(c).parent().data("args",t),""!=h.onSlideChange))h.onSlideChange(t);x[n]=g;ba[n]=r;b=Math.floor(b);e.setSliderOffset(c,b);h.scrollbar&&(M=Math.floor((-1*b-j[n]+k)/(q[n]-j[n]+k)*(T-N-d)),c=d-z,b>=-1*j[n]+k?(c=d-z- -1*M,e.setSliderOffset(a("."+u),0)):(b<=-1*q[n]+1&&(c=T-N-z-M),e.setSliderOffset(a("."+u),M)),a("."+u).css({width:c+"px"}))},slowScrollHorizontal:function(c, f,b,u,d,g,T,N,z,w,K,s,r,t,H,n,k,y,h,C,p){var m=e.getSliderOffset(c,"x");g=[];var I=0,v=25/1024*N;frictionCoefficient=p.frictionCoefficient;elasticFrictionCoefficient=p.elasticFrictionCoefficient;snapFrictionCoefficient=p.snapFrictionCoefficient;d>p.snapVelocityThreshold&&p.snapToChildren&&!h?I=1:d<-1*p.snapVelocityThreshold&&(p.snapToChildren&&!h)&&(I=-1);d<-1*v?d=-1*v:d>v&&(d=v);a(c)[0]!==a(y)[0]&&(I*=-1,d*=-2);y=F[H];if(p.infiniteSlider)var A=j[H],l=q[H];h=[];for(var v=[],D=0;D<r.length;D++)h[D]= r[D],D<f.length&&(v[D]=e.getSliderOffset(a(f[D]),"x"));for(;1<d||-1>d;){d*=frictionCoefficient;m+=d;if((m>-1*j[H]||m<-1*q[H])&&!p.infiniteSlider)d*=elasticFrictionCoefficient,m+=d;if(p.infiniteSlider){if(m<=-1*l){for(var l=a(c).width(),M=0,P=v[0],D=0;D<v.length;D++)v[D]<P&&(P=v[D],M=D);D=A+l;v[M]=D;A=-1*h[1]+C;l=A+l-N;h.splice(0,1);h.splice(h.length,0,-1*D+C);y++}if(m>=-1*A){l=a(c).width();M=0;P=v[0];for(D=0;D<v.length;D++)v[D]>P&&(P=v[D],M=D);D=A-t[M];v[M]=D;h.splice(0,0,-1*D+C);h.splice(h.length- 1,1);A=-1*h[0]+C;l=A+l-N;y--}}g[g.length]=m}v=!1;d=e.calcActiveOffset(p,m,h,N,y,k,x[H],H);A=(d+y+k)%k;p.snapToChildren&&(p.infiniteSlider?A!=ba[H]&&(v=!0):d!=x[H]&&(v=!0),0>I&&!v?(d++,d>=r.length&&!p.infinteSlider&&(d=r.length-1)):0<I&&!v&&(d--,0>d&&!p.infinteSlider&&(d=0)));if(p.snapToChildren||(m>-1*j[H]||m<-1*q[H])&&!p.infiniteSlider){(m>-1*j[H]||m<-1*q[H])&&!p.infiniteSlider?g.splice(0,g.length):(g.splice(0.1*g.length,g.length),m=0<g.length?g[g.length-1]:m);for(;m<h[d]-0.5||m>h[d]+0.5;)m=(m-h[d])* snapFrictionCoefficient+h[d],g[g.length]=m;g[g.length]=h[d]}I=1;0!=g.length%2&&(I=0);for(m=0;m<b.length;m++)clearTimeout(b[m]);y=(d+y+k)%k;A=0;for(m=I;m<g.length;m+=2)if(m==I||1<Math.abs(g[m]-A)||m>=g.length-2)A=g[m],b[b.length]=e.slowScrollHorizontalIntervalTimer(10*m,c,f,g[m],u,T,N,z,w,K,d,s,r,n,k,t,H,C,y,p);A=(d+F[H]+k)%k;""!=p.onSlideComplete&&1<g.length&&(b[b.length]=e.onSlideCompleteTimer(10*(m+1),p,c,a(c).children(":eq("+A+")"),y,H));$[H]=b;e.hideScrollbar(p,b,m,g,u,T,N,w,K,H)},onSlideComplete:function(c, f,b,u){b=new e.args("complete",c,a(f),b,u,u);a(f).parent().data("args",b);if(""!=c.onSlideComplete)c.onSlideComplete(b)},getSliderOffset:function(c,e){var b=0;e="x"==e?4:5;if(ea&&!aa&&!X){for(var b=["-webkit-transform","-moz-transform","transform"],u=0;u<b.length;u++)if(void 0!=a(c).css(b[u])&&0<a(c).css(b[u]).length){var d=a(c).css(b[u]).split(",");break}b=parseInt(d[e],10)}else b=parseInt(a(c).css("left"),10);return b},setSliderOffset:function(c,e){ea&&!aa&&!X?a(c).css({webkitTransform:"matrix(1,0,0,1,"+ e+",0)",MozTransform:"matrix(1,0,0,1,"+e+",0)",transform:"matrix(1,0,0,1,"+e+",0)"}):a(c).css({left:e+"px"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(ha="-webkit-grab",sa="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(ha="move",sa="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?oa=aa=!0:null!=navigator.userAgent.match("MSIE 8")?oa=X=!0:null!=navigator.userAgent.match("MSIE 9")&&(oa=!0)},has3DTransform:function(){var c=!1,e=a("<div />").css({webkitTransform:"matrix(1,1,1,1,1,1)", MozTransform:"matrix(1,1,1,1,1,1)",transform:"matrix(1,1,1,1,1,1)"});""==e.attr("style")?c=!1:void 0!=e.attr("style")&&(c=!0);return c},getSlideNumber:function(a,e,b){return(a-F[e]+b)%b},calcActiveOffset:function(a,e,b,u,d,g){d=!1;a=[];var j;e>b[0]&&(j=0);e<b[b.length-1]&&(j=g-1);for(g=0;g<b.length;g++)b[g]<=e&&b[g]>e-u&&(!d&&b[g]!=e&&(a[a.length]=b[g-1]),a[a.length]=b[g],d=!0);0==a.length&&(a[0]=b[b.length-1]);for(g=d=0;g<a.length;g++){var q=Math.abs(e-a[g]);q<u&&(d=a[g],u=q)}for(g=0;g<b.length;g++)d== b[g]&&(j=g);return j},changeSlide:function(c,f,b,u,d,g,j,q,z,w,K,s,r,t,H,n,k,y){e.autoSlidePause(t);for(var h=0;h<u.length;h++)clearTimeout(u[h]);var C=Math.ceil(y.autoSlideTransTimer/10)+1,p=e.getSliderOffset(f,"x"),m=s[c],m=m-p,I=c-(x[t]+F[t]+n)%n;if(y.infiniteSlider){c=(c-F[t]+2*n)%n;h=!1;0==c&&2==n&&(c=n,s[c]=s[c-1]-a(b).eq(0).outerWidth(!0),h=!0);var m=s[c],m=m-p,v=[s[c]-a(f).width(),s[c]+a(f).width()];h&&s.splice(s.length-1,1);for(h=0;h<v.length;h++)Math.abs(v[h]-p)<Math.abs(m)&&(m=v[h]-p); 0>m&&-1==I?m+=a(f).width():0<m&&1==I&&(m-=a(f).width())}I=[];e.showScrollbar(y,d);for(h=0;h<=C;h++)v=h,v/=C,v--,v=p+m*(Math.pow(v,5)+1),I[I.length]=v;C=(c+F[t]+n)%n;for(h=p=0;h<I.length;h++){if(0==h||1<Math.abs(I[h]-p)||h>=I.length-2)p=I[h],u[h]=e.slowScrollHorizontalIntervalTimer(10*(h+1),f,b,I[h],d,g,j,q,z,w,c,K,s,H,n,r,t,k,C,y);0==h&&""!=y.onSlideStart&&(C=(x[t]+F[t]+n)%n,y.onSlideStart(new e.args("start",y,f,a(f).children(":eq("+C+")"),C,c)))}p=!1;y.infiniteSlider?C!=ba[t]&&(p=!0):c!=x[t]&&(p= !0);p&&""!=y.onSlideComplete&&(u[u.length]=e.onSlideCompleteTimer(10*(h+1),y,f,a(f).children(":eq("+C+")"),C,t));$[t]=u;e.hideScrollbar(y,u,h,I,d,g,j,z,w,t);e.autoSlide(f,b,u,d,g,j,q,z,w,K,s,r,t,H,n,k,y)},autoSlide:function(a,f,b,u,d,g,j,q,z,w,K,s,r,t,H,n,k){if(!S[r].autoSlide)return!1;e.autoSlidePause(r);ia[r]=setTimeout(function(){!k.infiniteSlider&&x[r]>K.length-1&&(x[r]-=H);e.changeSlide((x[r]+F[r]+K.length+1)%K.length,a,f,b,u,d,g,j,q,z,w,K,s,r,t,H,n,k);e.autoSlide(a,f,b,u,d,g,j,q,z,w,K,s,r,t, H,n,k)},k.autoSlideTimer+k.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout(ia[a])},isUnselectable:function(c,e){return""!=e.unselectableSelector&&1==a(c).closest(e.unselectableSelector).size()?!0:!1},slowScrollHorizontalIntervalTimer:function(a,f,b,u,d,g,j,q,x,w,F,s,r,t,H,n,k,y,h,C){return setTimeout(function(){e.slowScrollHorizontalInterval(f,b,u,d,g,j,q,x,w,F,s,r,t,H,n,k,y,h,C)},a)},onSlideCompleteTimer:function(a,f,b,u,d,g){return setTimeout(function(){e.onSlideComplete(f,b,u,d,g)}, a)},hideScrollbarIntervalTimer:function(a,f,b,u,d,g,j,q,x,w){return setTimeout(function(){e.hideScrollbarInterval(f,b,u,d,g,j,q,x,w)},a)},args:function(c,f,b,j,d,g){this.prevSlideNumber=void 0==a(b).parent().data("args")?void 0:a(b).parent().data("args").prevSlideNumber;this.prevSlideObject=void 0==a(b).parent().data("args")?void 0:a(b).parent().data("args").prevSlideObject;this.targetSlideNumber=g+1;this.targetSlideObject=a(b).children(":eq("+this.targetSlideOffset+")");this.slideChanged=!1;"load"== c?this.targetSlideObject=this.targetSlideNumber=void 0:"start"==c?this.targetSlideObject=this.targetSlideNumber=void 0:"change"==c?(this.slideChanged=!0,this.prevSlideNumber=void 0==a(b).parent().data("args")?f.startAtSlide:a(b).parent().data("args").currentSlideNumber,this.prevSlideObject=a(b).children(":eq("+this.prevSlideNumber+")")):"complete"==c&&(this.slideChanged=a(b).parent().data("args").slideChanged);this.settings=f;this.data=a(b).parent().data("iosslider");this.sliderObject=b;this.sliderContainerObject= a(b).parent();this.currentSlideObject=j;this.currentSlideNumber=d+1;this.currentSliderOffset=-1*e.getSliderOffset(b,"x")},preventDrag:function(a){a.preventDefault()},preventClick:function(a){a.stopImmediatePropagation();return!1},enableClick:function(){return!0}};e.setBrowserInfo();var V={init:function(c,f){ea=e.has3DTransform();var b=a.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1, scrollbar:!1,scrollbarDrag:!1,scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,tabToAdvance:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1, autoSlideTimer:5E3,autoSlideTransTimer:750,autoSlideHoverPause:!0,infiniteSlider:!1,snapVelocityThreshold:5,slideStartVelocityThreshold:0,horizontalSlideLockThreshold:5,verticalSlideLockThreshold:3,stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSliderResize:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},c);void 0==f&&(f=this);return a(f).each(function(){function c(){e.autoSlidePause(d);va=a(E).find("a"); za=a(E).find("[onclick]");pa=a(E).find("*");a(y).css("width","");a(y).css("height","");a(E).css("width","");B=a(E).children().not("script").get();ga=[];L=[];b.responsiveSlides&&a(B).css("width","");q[d]=0;l=[];H=a(y).parent().width();h=a(y).outerWidth(!0);b.responsiveSlideContainer&&(h=a(y).outerWidth(!0)>H?H:a(y).outerWidth(!0));a(y).css({position:b.stageCSS.position,top:b.stageCSS.top,left:b.stageCSS.left,overflow:b.stageCSS.overflow,zIndex:b.stageCSS.zIndex,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden", msTouchAction:"pan-y",width:h});a(b.unselectableSelector).css({cursor:"default"});for(var G=0;G<B.length;G++){ga[G]=a(B[G]).width();L[G]=a(B[G]).outerWidth(!0);var u=L[G];b.responsiveSlides&&(L[G]>h?(u=h+-1*(L[G]-ga[G]),ga[G]=u,L[G]=h):u=ga[G],a(B[G]).css({width:u}));a(B[G]).css({webkitBackfaceVisibility:"hidden",overflow:"hidden",position:"absolute",top:0});l[G]=-1*q[d];q[d]=q[d]+u+(L[G]-ga[G])}b.snapSlideCenter&&(k=0.5*(h-L[0]),b.responsiveSlides&&L[0]>h&&(k=0));ua[d]=2*q[d];for(G=0;G<B.length;G++)e.setSliderOffset(a(B[G]), -1*l[G]+q[d]+k),l[G]-=q[d];if(!b.infiniteSlider&&!b.snapSlideCenter){for(G=0;G<l.length&&!(l[G]<=-1*(2*q[d]-h));G++)ia=G;l.splice(ia+1,l.length);l[l.length]=-1*(2*q[d]-h)}for(G=0;G<l.length;G++)D[G]=l[G];v&&(b.startAtSlide=S[d].startAtSlide>l.length?l.length:S[d].startAtSlide,b.infiniteSlider?(b.startAtSlide=(S[d].startAtSlide-1+J)%J,x[d]=S[d].startAtSlide):(b.startAtSlide=0>S[d].startAtSlide-1?l.length-1:S[d].startAtSlide,x[d]=S[d].startAtSlide-1),ba[d]=x[d]);j[d]=q[d]+k;a(E).css({position:"relative", cursor:ha,webkitPerspective:"0",webkitBackfaceVisibility:"hidden",width:q[d]+"px"});Q=q[d];q[d]=2*q[d]-h+2*k;(Y=Q<h||0==h?!0:!1)&&a(E).css({cursor:"default"});n=a(y).parent().outerHeight(!0);C=a(y).height();b.responsiveSlideContainer&&(C=C>n?n:C);a(y).css({height:C});e.setSliderOffset(E,l[x[d]]);if(b.infiniteSlider&&!Y){G=e.getSliderOffset(a(E),"x");for(u=-1*((F[d]+J)%J);0>u;){var A=0,ja=e.getSliderOffset(a(B[0]),"x");a(B).each(function(a){e.getSliderOffset(this,"x")<ja&&(ja=e.getSliderOffset(this, "x"),A=a)});var I=j[d]+Q;e.setSliderOffset(a(B)[A],I);j[d]=-1*l[1]+k;q[d]=j[d]+Q-h;l.splice(0,1);l.splice(l.length,0,-1*I+k);u++}for(;0<-1*l[0]-Q+k&&b.snapSlideCenter&&v;){var M=0,N=e.getSliderOffset(a(B[0]),"x");a(B).each(function(a){e.getSliderOffset(this,"x")>N&&(N=e.getSliderOffset(this,"x"),M=a)});I=j[d]-L[M];e.setSliderOffset(a(B)[M],I);l.splice(0,0,-1*I+k);l.splice(l.length-1,1);j[d]=-1*l[0]+k;q[d]=j[d]+Q-h;F[d]--;x[d]++}for(;G<=-1*q[d];)A=0,ja=e.getSliderOffset(a(B[0]),"x"),a(B).each(function(a){e.getSliderOffset(this, "x")<ja&&(ja=e.getSliderOffset(this,"x"),A=a)}),I=j[d]+Q,e.setSliderOffset(a(B)[A],I),j[d]=-1*l[1]+k,q[d]=j[d]+Q-h,l.splice(0,1),l.splice(l.length,0,-1*I+k),F[d]++,x[d]--}e.setSliderOffset(E,l[x[d]]);b.desktopClickDrag||a(E).css({cursor:"default"});b.scrollbar&&(a("."+z).css({margin:b.scrollbarMargin,overflow:"hidden",display:"none"}),a("."+z+" ."+w).css({border:b.scrollbarBorder}),p=parseInt(a("."+z).css("marginLeft"))+parseInt(a("."+z).css("marginRight")),m=parseInt(a("."+z+" ."+w).css("borderLeftWidth"), 10)+parseInt(a("."+z+" ."+w).css("borderRightWidth"),10),r=""!=b.scrollbarContainer?a(b.scrollbarContainer).width():h,t=h/Q*(r-p),b.scrollbarHide||(V=b.scrollbarOpacity),a("."+z).css({position:"absolute",left:0,width:r-p+"px",margin:b.scrollbarMargin}),"top"==b.scrollbarLocation?a("."+z).css("top","0"):a("."+z).css("bottom","0"),a("."+z+" ."+w).css({borderRadius:b.scrollbarBorderRadius,background:b.scrollbarBackground,height:b.scrollbarHeight,width:t-m+"px",minWidth:b.scrollbarHeight,border:b.scrollbarBorder, webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",position:"relative",opacity:V,filter:"alpha(opacity:"+100*V+")",boxShadow:b.scrollbarShadow}),e.setSliderOffset(a("."+z+" ."+w),Math.floor((-1*l[x[d]]-j[d]+k)/(q[d]-j[d]+k)*(r-p-t))),a("."+z).css({display:"block"}),K=a("."+z+" ."+w),s=a("."+z));b.scrollbarDrag&&!Y&&a("."+z+" ."+w).css({cursor:ha});b.infiniteSlider&&(R=(q[d]+h)/3);""!=b.navSlideSelector&&a(b.navSlideSelector).each(function(c){a(this).css({cursor:"pointer"});a(this).unbind(O).bind(O, function(G){"touchstart"==G.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");O=G.type+".iosSliderEvent";e.changeSlide(c,E,B,f,w,t,h,r,p,m,D,l,L,d,R,J,k,b)})});""!=b.navPrevSelector&&(a(b.navPrevSelector).css({cursor:"pointer"}),a(b.navPrevSelector).unbind(O).bind(O,function(c){"touchstart"==c.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");O=c.type+".iosSliderEvent";c=(x[d]+F[d]+J)%J;(0<c||b.infiniteSlider)&&e.changeSlide(c- 1,E,B,f,w,t,h,r,p,m,D,l,L,d,R,J,k,b)}));""!=b.navNextSelector&&(a(b.navNextSelector).css({cursor:"pointer"}),a(b.navNextSelector).unbind(O).bind(O,function(c){"touchstart"==c.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");O=c.type+".iosSliderEvent";c=(x[d]+F[d]+J)%J;(c<l.length-1||b.infiniteSlider)&&e.changeSlide(c+1,E,B,f,w,t,h,r,p,m,D,l,L,d,R,J,k,b)}));b.autoSlide&&!Y&&""!=b.autoSlideToggleSelector&&(a(b.autoSlideToggleSelector).css({cursor:"pointer"}),a(b.autoSlideToggleSelector).unbind(O).bind(O, function(c){"touchstart"==c.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");O=c.type+".iosSliderEvent";wa?(e.autoSlide(E,B,f,w,t,h,r,p,m,D,l,L,d,R,J,k,b),wa=!1,a(b.autoSlideToggleSelector).removeClass("on")):(e.autoSlidePause(d),wa=!0,a(b.autoSlideToggleSelector).addClass("on"))}));e.autoSlide(E,B,f,w,t,h,r,p,m,D,l,L,d,R,J,k,b);a(y).bind("mouseleave.iosSliderEvent",function(){e.autoSlide(E,B,f,w,t,h,r,p,m,D,l,L,d,R,J,k,b)});a(y).bind("touchend.iosSliderEvent", function(){e.autoSlide(E,B,f,w,t,h,r,p,m,D,l,L,d,R,J,k,b)});b.autoSlidePauseHover&&a(y).bind("mouseenter.iosSliderEvent",function(){e.autoSlidePause(d)});a(y).data("iosslider",{obj:Aa,settings:b,scrollerNode:E,slideNodes:B,numberOfSlides:J,centeredSlideOffset:k,sliderNumber:d,originalOffsets:D,childrenOffsets:l,sliderMax:q[d],scrollbarClass:w,scrollbarWidth:t,scrollbarStageWidth:r,stageWidth:h,scrollMargin:p,scrollBorder:m,infiniteSliderOffset:F[d],infiniteSliderWidth:R,slideNodeOuterWidths:L});v= !1;return!0}na++;var d=na,f=[];S[d]=b;j[d]=0;q[d]=0;var T=[0,0],N=[0,0],z="scrollbarBlock"+na,w="scrollbar"+na,K,s,r,t,H,n,k=0,y=a(this),h,C,p,m,I,v=!0,A=-1,l,D=[],V=0,P=0,ea=0,E=a(this).children(":first-child"),B,ga,L,J=a(E).children().not("script").size(),U=!1,ia=0,xa=!1,qa=void 0,R;F[d]=0;var Y=!1,wa=!1;ta[d]=!1;var Z,ra=!1,ka=!1,O="touchstart.iosSliderEvent click.iosSliderEvent",Q,va,za,pa;fa[d]=!1;$[d]=[];b.scrollbarDrag&&(b.scrollbar=!0,b.scrollbarHide=!1);var Aa=a(this);if(void 0!=Aa.data("iosslider"))return!0; a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()});b.infiniteSlider&&(b.scrollbar=!1);b.infiniteSlider&&1==J&&(b.infiniteSlider=!1);b.scrollbar&&(""!=b.scrollbarContainer?a(b.scrollbarContainer).append("<div class = '"+z+"'><div class = '"+w+"'></div></div>"):a(E).parent().append("<div class = '"+z+"'><div class = '"+w+"'></div></div>"));if(!c())return!0;a(this).find("a").bind("mousedown",e.preventDrag);a(this).find("[onclick]").bind("click",e.preventDrag).each(function(){a(this).data("onclick", this.onclick)});A=e.calcActiveOffset(b,e.getSliderOffset(a(E),"x"),l,h,F[d],J,void 0,d);A=(A+F[d]+J)%J;A=new e.args("load",b,E,a(E).children(":eq("+A+")"),A,A);a(y).data("args",A);if(""!=b.onSliderLoaded)b.onSliderLoaded(A);if(S[d].responsiveSlides||S[d].responsiveSlideContainer)A=Ca?"orientationchange":"resize",a(window).bind(A+".iosSliderEvent-"+d,function(){if(!c())return!0;var d=a(y).data("args");if(""!=b.onSliderResize)b.onSliderResize(d)});(b.keyboardControls||b.tabToAdvance)&&!Y&&a(document).bind("keydown.iosSliderEvent", function(a){!aa&&!X&&(a=a.originalEvent);if(37==a.keyCode&&b.keyboardControls)a.preventDefault(),a=(x[d]+F[d]+J)%J,(0<a||b.infiniteSlider)&&e.changeSlide(a-1,E,B,f,w,t,h,r,p,m,D,l,L,d,R,J,k,b);else if(39==a.keyCode&&b.keyboardControls||9==a.keyCode&&b.tabToAdvance)a.preventDefault(),a=(x[d]+F[d]+J)%J,(a<l.length-1||b.infiniteSlider)&&e.changeSlide(a+1,E,B,f,w,t,h,r,p,m,D,l,L,d,R,J,k,b)});if(Ba||b.desktopClickDrag){var ca=!1,la=a(E),ma=a(E),ya=!1;b.scrollbarDrag&&(la=la.add(K),ma=ma.add(s));a(la).bind("mousedown.iosSliderEvent touchstart.iosSliderEvent", function(c){if(ca)return!0;ca=!0;"touchstart"==c.type?a(ma).unbind("mousedown.iosSliderEvent"):a(ma).unbind("touchstart.iosSliderEvent");if(fa[d]||Y||(ya=e.isUnselectable(c.target,b)))return U=ca=!1,!0;Z=a(this)[0]===a(K)[0]?K:E;!aa&&!X&&(c=c.originalEvent);e.autoSlidePause(d);pa.unbind(".disableClick");if("touchstart"==c.type)eventX=c.touches[0].pageX,eventY=c.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&& window.getSelection().removeAllRanges();else if(document.selection)if(X)try{document.selection.empty()}catch(h){}else document.selection.empty();eventX=c.pageX;eventY=c.pageY;xa=!0;qa=E;a(this).css({cursor:sa})}T=[0,0];N=[0,0];W=0;U=!1;for(c=0;c<f.length;c++)clearTimeout(f[c]);c=e.getSliderOffset(E,"x");c>-1*j[d]+k+Q?(c=-1*j[d]+k+Q,e.setSliderOffset(a("."+w),c),a("."+w).css({width:t-m+"px"})):c<-1*q[d]&&(e.setSliderOffset(a("."+w),r-p-t),a("."+w).css({width:t-m+"px"}));c=a(this)[0]===a(K)[0]?j[d]: 0;P=-1*(e.getSliderOffset(this,"x")-eventX-c);e.getSliderOffset(this,"y");T[1]=eventX;N[1]=eventY;ka=!1});a(ma).bind("touchmove.iosSliderEvent mousemove.iosSliderEvent",function(c){!aa&&!X&&(c=c.originalEvent);if(fa[d]||Y||ya)return!0;var f=0;if("touchmove"==c.type)eventX=c.touches[0].pageX,eventY=c.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty||window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();else if(document.selection)if(X)try{document.selection.empty()}catch(u){}else document.selection.empty(); eventX=c.pageX;eventY=c.pageY;if(!xa||!oa&&("undefined"!=typeof c.webkitMovementX||"undefined"!=typeof c.webkitMovementY)&&0===c.webkitMovementY&&0===c.webkitMovementX)return!0}T[0]=T[1];T[1]=eventX;W=(T[1]-T[0])/2;N[0]=N[1];N[1]=eventY;da=(N[1]-N[0])/2;if(!U){var g=(x[d]+F[d]+J)%J,g=new e.args("start",b,E,a(E).children(":eq("+g+")"),g,void 0);a(y).data("args",g);if(""!=b.onSlideStart)b.onSlideStart(g)}if((da>b.verticalSlideLockThreshold||da<-1*b.verticalSlideLockThreshold)&&"touchmove"==c.type&& !U)ra=!0;(W>b.horizontalSlideLockThreshold||W<-1*b.horizontalSlideLockThreshold)&&"touchmove"==c.type&&c.preventDefault();if(W>b.slideStartVelocityThreshold||W<-1*b.slideStartVelocityThreshold)U=!0;if(U&&!ra){var g=e.getSliderOffset(E,"x"),n=a(Z)[0]===a(K)[0]?j[d]:k,v=a(Z)[0]===a(K)[0]?(j[d]-q[d]-k)/(scrollbarStageHeight-p-scrollbarHeight):1,s=a(Z)[0]===a(K)[0]?b.scrollbarElasticPullResistance:b.elasticPullResistance,A=b.snapSlideCenter&&a(Z)[0]===a(K)[0]?0:k,H=b.snapSlideCenter&&a(Z)[0]===a(K)[0]? k:0;"touchmove"==c.type&&(ea!=c.touches.length&&(P=-1*g+eventX),ea=c.touches.length);if(b.infiniteSlider){if(g<=-1*q[d]){var z=a(E).width();if(g<=-1*ua[d]){var C=-1*D[0];a(B).each(function(b){e.setSliderOffset(a(B)[b],C+k);b<l.length&&(l[b]=-1*C);C+=L[b]});P-=-1*l[0];j[d]=-1*l[0]+k;q[d]=j[d]+z-h;F[d]=0}else{var R=0,S=e.getSliderOffset(a(B[0]),"x");a(B).each(function(a){e.getSliderOffset(this,"x")<S&&(S=e.getSliderOffset(this,"x"),R=a)});s=j[d]+z;e.setSliderOffset(a(B)[R],s);j[d]=-1*l[1]+k;q[d]=j[d]+ z-h;l.splice(0,1);l.splice(l.length,0,-1*s+k);F[d]++}}if(g>=-1*j[d]||0<=g)if(z=a(E).width(),0<=g){C=-1*D[0];a(B).each(function(b){e.setSliderOffset(a(B)[b],C+k);b<l.length&&(l[b]=-1*C);C+=L[b]});P+=-1*l[0];j[d]=-1*l[0]+k;q[d]=j[d]+z-h;for(F[d]=J;0<-1*l[0]-z+k;){var O=0,Q=e.getSliderOffset(a(B[0]),"x");a(B).each(function(a){e.getSliderOffset(this,"x")>Q&&(Q=e.getSliderOffset(this,"x"),O=a)});s=j[d]-L[O];e.setSliderOffset(a(B)[O],s);l.splice(0,0,-1*s+k);l.splice(l.length-1,1);j[d]=-1*l[0]+k;q[d]=j[d]+ z-h;F[d]--;x[d]++}}else O=0,Q=e.getSliderOffset(a(B[0]),"x"),a(B).each(function(a){e.getSliderOffset(this,"x")>Q&&(Q=e.getSliderOffset(this,"x"),O=a)}),s=j[d]-L[O],e.setSliderOffset(a(B)[O],s),l.splice(0,0,-1*s+k),l.splice(l.length-1,1),j[d]=-1*l[0]+k,q[d]=j[d]+z-h,F[d]--}else z=a(E).width(),g>-1*j[d]+k&&(f=-1*(j[d]+-1*(P-n-eventX+A)*v-n)*s/v),g<-1*q[d]&&(f=-1*(q[d]+H+-1*(P-n-eventX)*v-n)*s/v);e.setSliderOffset(E,-1*(P-n-eventX-f)*v-n+H);b.scrollbar&&(e.showScrollbar(b,w),M=Math.floor((P-eventX-f- j[d]+A)/(q[d]-j[d]+k)*(r-p-t)*v),g=t,0>=M?(g=t-m- -1*M,e.setSliderOffset(a("."+w),0),a("."+w).css({width:g+"px"})):M>=r-p-m-t?(g=r-p-m-M,e.setSliderOffset(a("."+w),M),a("."+w).css({width:g+"px"})):e.setSliderOffset(a("."+w),M));"touchmove"==c.type&&(I=c.touches[0].pageX);c=!1;f=e.calcActiveOffset(b,-1*(P-eventX-f),l,h,F[d],J,void 0,d);g=(f+F[d]+J)%J;b.infiniteSlider?g!=ba[d]&&(c=!0):f!=x[d]&&(c=!0);if(c&&(x[d]=f,ba[d]=g,ka=!0,g=new e.args("change",b,E,a(E).children(":eq("+g+")"),g,g),a(y).data("args", g),""!=b.onSlideChange))b.onSlideChange(g)}ca=!1});A=a(window);if(X||aa)A=a(document);a(la).bind("touchend.iosSliderEvent",function(a){a=a.originalEvent;if(fa[d]||Y||ya)return!0;if(0!=a.touches.length)for(var c=0;c<a.touches.length;c++)a.touches[c].pageX==I&&e.slowScrollHorizontal(E,B,f,w,W,da,t,h,r,p,m,D,l,L,d,R,J,Z,ka,k,b);else e.slowScrollHorizontal(E,B,f,w,W,da,t,h,r,p,m,D,l,L,d,R,J,Z,ka,k,b);ca=ra=!1});a(A).bind("mouseup.iosSliderEvent-"+d,function(){U?va.unbind("click.disableClick").bind("click.disableClick", e.preventClick):va.unbind("click.disableClick").bind("click.disableClick",e.enableClick);za.each(function(){this.onclick=function(b){if(U)return!1;a(this).data("onclick").call(this,b||window.event)}});1.8<=parseFloat(a().jquery)?pa.each(function(){var b=a._data(this,"events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!U)return!1;a(this).one("click.disableClick",e.preventClick);var b=a._data(this,"events").click,c=b.pop();b.splice(0,0,c)}}):1.6<=parseFloat(a().jquery)&& pa.each(function(){var b=a(this).data("events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!U)return!1;a(this).one("click.disableClick",e.preventClick);var b=a(this).data("events").click,c=b.pop();b.splice(0,0,c)}});if(!ta[d]){if(Y)return!0;a(la).css({cursor:ha});xa=!1;if(void 0==qa)return!0;e.slowScrollHorizontal(qa,B,f,w,W,da,t,h,r,p,m,D,l,L,d,R,J,Z,ka,k,b);qa=void 0}ca=ra=!1})}})},destroy:function(c,f){void 0==f&&(f=this);return a(f).each(function(){var b=a(this), f=b.data("iosslider");if(void 0==f)return!1;void 0==c&&(c=!0);e.autoSlidePause(f.sliderNumber);ta[f.sliderNumber]=!0;a(window).unbind(".iosSliderEvent-"+f.sliderNumber);a(document).unbind(".iosSliderEvent-"+f.sliderNumber);a(document).unbind("keydown.iosSliderEvent");a(this).unbind(".iosSliderEvent");a(this).children(":first-child").unbind(".iosSliderEvent");a(this).children(":first-child").children().unbind(".iosSliderEvent");c&&(a(this).attr("style",""),a(this).children(":first-child").attr("style", ""),a(this).children(":first-child").children().attr("style",""),a(f.settings.navSlideSelector).attr("style",""),a(f.settings.navPrevSelector).attr("style",""),a(f.settings.navNextSelector).attr("style",""),a(f.settings.autoSlideToggleSelector).attr("style",""),a(f.settings.unselectableSelector).attr("style",""));f.settings.scrollbar&&a(".scrollbarBlock"+f.sliderNumber).remove();for(var f=$[f.sliderNumber],d=0;d<f.length;d++)clearTimeout(f[d]);b.removeData("iosslider");b.removeData("args")})},update:function(c){void 0== c&&(c=this);return a(c).each(function(){var c=a(this),b=c.data("iosslider");if(void 0==b)return!1;b.settings.startAtSlide=c.data("args").currentSlideNumber;V.destroy(!1,this);1!=b.numberOfSlides&&b.settings.infiniteSlider&&(b.settings.startAtSlide=(x[b.sliderNumber]+1+F[b.sliderNumber]+b.numberOfSlides)%b.numberOfSlides);V.init(b.settings,this);c=new e.args("update",b.settings,b.scrollerNode,a(b.scrollerNode).children(":eq("+(b.settings.startAtSlide-1)+")"),b.settings.startAtSlide-1,b.settings.startAtSlide- 1);a(b.stageNode).data("args",c);if(""!=b.settings.onSliderUpdate)b.settings.onSliderUpdate(c)})},addSlide:function(c,e){return this.each(function(){var b=a(this),j=b.data("iosslider");if(void 0==j)return!1;0==a(j.scrollerNode).children().size()?(a(j.scrollerNode).append(c),b.data("args").currentSlideNumber=1):j.settings.infiniteSlider?(1==e?a(j.scrollerNode).children(":eq(0)").before(c):a(j.scrollerNode).children(":eq("+(e-2)+")").after(c),-1>F[j.sliderNumber]&&x[j.sliderNumber]--,b.data("args").currentSlideNumber>= e&&x[j.sliderNumber]++):(e<=j.numberOfSlides?a(j.scrollerNode).children(":eq("+(e-1)+")").before(c):a(j.scrollerNode).children(":eq("+(e-2)+")").after(c),b.data("args").currentSlideNumber>=e&&b.data("args").currentSlideNumber++);b.data("iosslider").numberOfSlides++;V.update(this)})},removeSlide:function(c){return this.each(function(){var e=a(this).data("iosslider");if(void 0==e)return!1;a(e.scrollerNode).children(":eq("+(c-1)+")").remove();x[e.sliderNumber]>c-1&&x[e.sliderNumber]--;V.update(this)})}, goToSlide:function(c,f){void 0==f&&(f=this);return a(f).each(function(){var b=a(this).data("iosslider");if(void 0==b)return!1;c=c>b.childrenOffsets.length?b.childrenOffsets.length-1:c-1;e.changeSlide(c,a(b.scrollerNode),a(b.slideNodes),$[b.sliderNumber],b.scrollbarClass,b.scrollbarWidth,b.stageWidth,b.scrollbarStageWidth,b.scrollMargin,b.scrollBorder,b.originalOffsets,b.childrenOffsets,b.slideNodeOuterWidths,b.sliderNumber,b.infiniteSliderWidth,b.numberOfSlides,b.centeredSlideOffset,b.settings);x[b.sliderNumber]= c})},prevSlide:function(){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;var f=(x[c.sliderNumber]+F[c.sliderNumber]+c.numberOfSlides)%c.numberOfSlides;(0<f||c.settings.infiniteSlider)&&e.changeSlide(f-1,a(c.scrollerNode),a(c.slideNodes),$[c.sliderNumber],c.scrollbarClass,c.scrollbarWidth,c.stageWidth,c.scrollbarStageWidth,c.scrollMargin,c.scrollBorder,c.originalOffsets,c.childrenOffsets,c.slideNodeOuterWidths,c.sliderNumber,c.infiniteSliderWidth,c.numberOfSlides, c.centeredSlideOffset,c.settings);x[c.sliderNumber]=f})},nextSlide:function(){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;var f=(x[c.sliderNumber]+F[c.sliderNumber]+c.numberOfSlides)%c.numberOfSlides;(f<c.childrenOffsets.length-1||c.settings.infiniteSlider)&&e.changeSlide(f+1,a(c.scrollerNode),a(c.slideNodes),$[c.sliderNumber],c.scrollbarClass,c.scrollbarWidth,c.stageWidth,c.scrollbarStageWidth,c.scrollMargin,c.scrollBorder,c.originalOffsets,c.childrenOffsets, c.slideNodeOuterWidths,c.sliderNumber,c.infiniteSliderWidth,c.numberOfSlides,c.centeredSlideOffset,c.settings);x[c.sliderNumber]=f})},lock:function(){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;fa[c.sliderNumber]=!0})},unlock:function(){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;fa[c.sliderNumber]=!1})},getData:function(){return this.each(function(){var c=a(this).data("iosslider");return void 0==c?!1:c})},autoSlidePause:function(){return this.each(function(){var c= a(this).data("iosslider");if(void 0==c)return!1;S[c.sliderNumber].autoSlide=!1;e.autoSlidePause(c.sliderNumber);return c})},autoSlidePlay:function(){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;S[c.sliderNumber].autoSlide=!0;e.autoSlide(a(c.scrollerNode),a(c.slideNodes),$[c.sliderNumber],c.scrollbarClass,c.scrollbarWidth,c.stageWidth,c.scrollbarStageWidth,c.scrollMargin,c.scrollBorder,c.originalOffsets,c.childrenOffsets,c.slideNodeOuterWidths,c.sliderNumber,c.infiniteSliderWidth, c.numberOfSlides,c.centeredSlideOffset,c.settings);return c})}};a.fn.iosSlider=function(c){if(V[c])return V[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return V.init.apply(this,arguments);a.error("invalid method call!")}})(jQuery);
;(function(e){function t(){var e=location.href;hashtag=e.indexOf("#prettyPhoto")!==-1?decodeURI(e.substring(e.indexOf("#prettyPhoto")+1,e.length)):false;return hashtag}function n(){if(typeof theRel=="undefined")return;location.hash=theRel+"/"+rel_index+"/"}function r(){if(location.href.indexOf("#prettyPhoto")!==-1)location.hash="prettyPhoto"}function i(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)";var r=new RegExp(n);var i=r.exec(t);return i==null?"":i[1]}e.prettyPhoto={version:"3.1.5"};e.fn.prettyPhoto=function(s){function g(){e(".pp_loaderIcon").hide();projectedTop=scroll_pos["scrollTop"]+(d/2-a["containerHeight"]/2);if(projectedTop<0)projectedTop=0;$ppt.fadeTo(settings.animation_speed,1);$pp_pic_holder.find(".pp_content").animate({height:a["contentHeight"],width:a["contentWidth"]},settings.animation_speed);$pp_pic_holder.animate({top:projectedTop,left:v/2-a["containerWidth"]/2<0?0:v/2-a["containerWidth"]/2,width:a["containerWidth"]},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(a["height"]).width(a["width"]);$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed);if(isSet&&S(pp_images[set_position])=="image"){$pp_pic_holder.find(".pp_hoverContainer").show()}else{$pp_pic_holder.find(".pp_hoverContainer").hide()}if(settings.allow_expand){if(a["resized"]){e("a.pp_expand,a.pp_contract").show()}else{e("a.pp_expand").hide()}}if(settings.autoplay_slideshow&&!m&&!f)e.prettyPhoto.startSlideshow();settings.changepicturecallback();f=true});C();s.ajaxcallback()}function y(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden");$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){e(".pp_loaderIcon").show();t()})}function b(t){t>1?e(".pp_nav").show():e(".pp_nav").hide()}function w(e,t){resized=false;E(e,t);imageWidth=e,imageHeight=t;if((p>v||h>d)&&doresize&&settings.allow_resize&&!u){resized=true,fitting=false;while(!fitting){if(p>v){imageWidth=v-200;imageHeight=t/e*imageWidth}else if(h>d){imageHeight=d-200;imageWidth=e/t*imageHeight}else{fitting=true}h=imageHeight,p=imageWidth}if(p>v||h>d){w(p,h)}E(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(h),containerWidth:Math.floor(p)+settings.horizontal_padding*2,contentHeight:Math.floor(l),contentWidth:Math.floor(c),resized:resized}}function E(t,n){t=parseFloat(t);n=parseFloat(n);$pp_details=$pp_pic_holder.find(".pp_details");$pp_details.width(t);detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom"));$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e("body")).css({position:"absolute",top:-1e4});detailsHeight+=$pp_details.height();detailsHeight=detailsHeight<=34?36:detailsHeight;$pp_details.remove();$pp_title=$pp_pic_holder.find(".ppt");$pp_title.width(t);titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom"));$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4});titleHeight+=$pp_title.height();$pp_title.remove();l=n+detailsHeight;c=t;h=l+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height();p=t}function S(e){if(e.match(/youtube\.com\/watch/i)||e.match(/youtu\.be/i)){return"youtube"}else if(e.match(/vimeo\.com/i)){return"vimeo"}else if(e.match(/\b.mov\b/i)){return"quicktime"}else if(e.match(/\b.swf\b/i)){return"flash"}else if(e.match(/\biframe=true\b/i)){return"iframe"}else if(e.match(/\bajax=true\b/i)){return"ajax"}else if(e.match(/\bcustom=true\b/i)){return"custom"}else if(e.substr(0,1)=="#"){return"inline"}else{return"image"}}function x(){if(doresize&&typeof $pp_pic_holder!="undefined"){scroll_pos=T();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=d/2+scroll_pos["scrollTop"]-contentHeight/2;if(projectedTop<0)projectedTop=0;if(contentHeight>d)return;$pp_pic_holder.css({top:projectedTop,left:v/2+scroll_pos["scrollLeft"]-contentwidth/2})}}function T(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}}else if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}}else if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}}function N(){d=e(window).height(),v=e(window).width();if(typeof $pp_overlay!="undefined")$pp_overlay.height(e(document).height()).width(v)}function C(){if(isSet&&settings.overlay_gallery&&S(pp_images[set_position])=="image"){itemWidth=52+5;navWidth=settings.theme=="facebook"||settings.theme=="pp_default"?50:30;itemsPerPage=Math.floor((a["containerWidth"]-100-navWidth)/itemWidth);itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()}else{$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show()}galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected");goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage;e.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")}else{$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}}function k(t){if(settings.social_tools)facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href));settings.markup=settings.markup.replace("{pp_social}","");e("body").append(settings.markup);$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay");if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(var n=0;n<pp_images.length;n++){if(!pp_images[n].match(/\b(jpg|jpeg|png|gif)\b/gi)){classname="default";img_src=""}else{classname="";img_src=pp_images[n]}toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>"}toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find("#pp_full_res").after(toInject);$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li");$pp_gallery.find(".pp_arrow_next").click(function(){e.prettyPhoto.changeGalleryPage("next");e.prettyPhoto.stopSlideshow();return false});$pp_gallery.find(".pp_arrow_previous").click(function(){e.prettyPhoto.changeGalleryPage("previous");e.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()});itemWidth=52+5;$pp_gallery_li.each(function(t){e(this).find("a").click(function(){e.prettyPhoto.changePage(t);e.prettyPhoto.stopSlideshow();return false})})}if(settings.slideshow){$pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>');$pp_pic_holder.find(".pp_nav .pp_play").click(function(){e.prettyPhoto.startSlideshow();return false})}$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme);$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind("click",function(){if(!settings.modal)e.prettyPhoto.close()});e("a.pp_close").bind("click",function(){e.prettyPhoto.close();return false});if(settings.allow_expand){e("a.pp_expand").bind("click",function(t){if(e(this).hasClass("pp_expand")){e(this).removeClass("pp_expand").addClass("pp_contract");doresize=false}else{e(this).removeClass("pp_contract").addClass("pp_expand");doresize=true}y(function(){e.prettyPhoto.open()});return false})}$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){e.prettyPhoto.changePage("previous");e.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){e.prettyPhoto.changePage("next");e.prettyPhoto.stopSlideshow();return false});x()}s=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:false,opacity:.8,show_title:true,allow_resize:true,allow_expand:true,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:false,wmode:"opaque",autoplay:true,modal:false,deeplinking:true,overlay_gallery:true,overlay_gallery_max:30,keyboard_shortcuts:true,changepicturecallback:function(){},callback:function(){},ie6_fallback:true,markup:'<div class="pp_pic_holder">       <div class="ppt"> </div>       <div class="pp_top">        <div class="pp_left"></div>        <div class="pp_middle"></div>        <div class="pp_right"></div>       </div>       <div class="pp_content_container">        <div class="pp_left">        <div class="pp_right">         <div class="pp_content">          <div class="pp_loaderIcon"></div>          <div class="pp_fade">           <a href="#" class="pp_expand" title="Expand the image">Expand</a>           <div class="pp_hoverContainer">            <a class="pp_next" href="#">next</a>            <a class="pp_previous" href="#">previous</a>           </div>           <div id="pp_full_res"></div>           <div class="pp_details">            <div class="pp_nav">             <a href="#" class="pp_arrow_previous">Previous</a>             <p class="currentTextHolder">0/0</p>             <a href="#" class="pp_arrow_next">Next</a>            </div>            <p class="pp_description"></p>            <div class="pp_social">{pp_social}</div>            <a class="pp_close" href="#">Close</a>           </div>          </div>         </div>        </div>        </div>       </div>       <div class="pp_bottom">        <div class="pp_left"></div>        <div class="pp_middle"></div>        <div class="pp_right"></div>       </div>      </div>      <div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery">         <a href="#" class="pp_arrow_previous">Previous</a>         <div>          <ul>           {gallery}          </ul>         </div>         <a href="#" class="pp_arrow_next">Next</a>        </div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},s);var o=this,u=false,a,f,l,c,h,p,d=e(window).height(),v=e(window).width(),m;doresize=true,scroll_pos=T();e(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){x();N()});if(s.keyboard_shortcuts){e(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if(typeof $pp_pic_holder!="undefined"){if($pp_pic_holder.is(":visible")){switch(t.keyCode){case 37:e.prettyPhoto.changePage("previous");t.preventDefault();break;case 39:e.prettyPhoto.changePage("next");t.preventDefault();break;case 27:if(!settings.modal)e.prettyPhoto.close();t.preventDefault();break}}}})}e.prettyPhoto.initialize=function(){settings=s;if(settings.theme=="pp_default")settings.horizontal_padding=16;theRel=e(this).attr(settings.hook);galleryRegExp=/\[(?:.*)\]/;isSet=galleryRegExp.exec(theRel)?true:false;pp_images=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr("href")}):e.makeArray(e(this).attr("href"));pp_titles=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):""}):e.makeArray(e(this).find("img").attr("alt"));pp_descriptions=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr("title")?e(t).attr("title"):""}):e.makeArray(e(this).attr("title"));if(pp_images.length>settings.overlay_gallery_max)settings.overlay_gallery=false;set_position=jQuery.inArray(e(this).attr("href"),pp_images);rel_index=isSet?set_position:e("a["+settings.hook+"^='"+theRel+"']").index(e(this));k(this);if(settings.allow_resize)e(window).bind("scroll.prettyphoto",function(){x()});e.prettyPhoto.open();return false};e.prettyPhoto.open=function(t){if(typeof settings=="undefined"){settings=s;pp_images=e.makeArray(arguments[0]);pp_titles=arguments[1]?e.makeArray(arguments[1]):e.makeArray("");pp_descriptions=arguments[2]?e.makeArray(arguments[2]):e.makeArray("");isSet=pp_images.length>1?true:false;set_position=arguments[3]?arguments[3]:0;k(t.target)}if(settings.hideflash)e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden");b(e(pp_images).size());e(".pp_loaderIcon").show();if(settings.deeplinking)n();if(settings.social_tools){facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href));$pp_pic_holder.find(".pp_social").html(facebook_like_link)}if($ppt.is(":hidden"))$ppt.css("opacity",0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).size());if(typeof pp_descriptions[set_position]!="undefined"&&pp_descriptions[set_position]!=""){$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position]))}else{$pp_pic_holder.find(".pp_description").hide()}movie_width=parseFloat(i("width",pp_images[set_position]))?i("width",pp_images[set_position]):settings.default_width.toString();movie_height=parseFloat(i("height",pp_images[set_position]))?i("height",pp_images[set_position]):settings.default_height.toString();u=false;if(movie_height.indexOf("%")!=-1){movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150);u=true}if(movie_width.indexOf("%")!=-1){movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150);u=true}$pp_pic_holder.fadeIn(function(){settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined"?$ppt.html(unescape(pp_titles[set_position])):$ppt.html(" ");imgPreloader="";skipInjection=false;switch(S(pp_images[set_position])){case"image":imgPreloader=new Image;nextImage=new Image;if(isSet&&set_position<e(pp_images).size()-1)nextImage.src=pp_images[set_position+1];prevImage=new Image;if(isSet&&pp_images[set_position-1])prevImage.src=pp_images[set_position-1];$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){a=w(imgPreloader.width,imgPreloader.height);g()};imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");e.prettyPhoto.close()};imgPreloader.src=pp_images[set_position];break;case"youtube":a=w(movie_width,movie_height);movie_id=i("v",pp_images[set_position]);if(movie_id==""){movie_id=pp_images[set_position].split("youtu.be/");movie_id=movie_id[1];if(movie_id.indexOf("?")>0)movie_id=movie_id.substr(0,movie_id.indexOf("?"));if(movie_id.indexOf("&")>0)movie_id=movie_id.substr(0,movie_id.indexOf("&"))}movie="http://www.youtube.com/embed/"+movie_id;i("rel",pp_images[set_position])?movie+="?rel="+i("rel",pp_images[set_position]):movie+="?rel=1";if(settings.autoplay)movie+="&autoplay=1";toInject=settings.iframe_markup.replace(/{width}/g,a["width"]).replace(/{height}/g,a["height"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":a=w(movie_width,movie_height);movie_id=pp_images[set_position];var t=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/;var n=movie_id.match(t);movie="http://player.vimeo.com/video/"+n[3]+"?title=0&byline=0&portrait=0";if(settings.autoplay)movie+="&autoplay=1;";vimeo_width=a["width"]+"/embed/?moog_width="+a["width"];toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,a["height"]).replace(/{path}/g,movie);break;case"quicktime":a=w(movie_width,movie_height);a["height"]+=15;a["contentHeight"]+=15;a["containerHeight"]+=15;toInject=settings.quicktime_markup.replace(/{width}/g,a["width"]).replace(/{height}/g,a["height"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":a=w(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf("?"));toInject=settings.flash_markup.replace(/{width}/g,a["width"]).replace(/{height}/g,a["height"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":a=w(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1);toInject=settings.iframe_markup.replace(/{width}/g,a["width"]).replace(/{height}/g,a["height"]).replace(/{path}/g,frame_url);break;case"ajax":doresize=false;a=w(movie_width,movie_height);doresize=true;skipInjection=true;e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;g()});break;case"custom":a=w(movie_width,movie_height);toInject=settings.custom_markup;break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show();doresize=false;a=w(e(myClone).width(),e(myClone).height());doresize=true;e(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html());break}if(!imgPreloader&&!skipInjection){$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;g()}});return false};e.prettyPhoto.changePage=function(t){currentGalleryPage=0;if(t=="previous"){set_position--;if(set_position<0)set_position=e(pp_images).size()-1}else if(t=="next"){set_position++;if(set_position>e(pp_images).size()-1)set_position=0}else{set_position=t}rel_index=set_position;if(!doresize)doresize=true;if(settings.allow_expand){e(".pp_contract").removeClass("pp_contract").addClass("pp_expand")}y(function(){e.prettyPhoto.open()})};e.prettyPhoto.changeGalleryPage=function(e){if(e=="next"){currentGalleryPage++;if(currentGalleryPage>totalPage)currentGalleryPage=0}else if(e=="previous"){currentGalleryPage--;if(currentGalleryPage<0)currentGalleryPage=totalPage}else{currentGalleryPage=e}slide_speed=e=="next"||e=="previous"?settings.animation_speed:0;slide_to=currentGalleryPage*itemsPerPage*itemWidth;$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)};e.prettyPhoto.startSlideshow=function(){if(typeof m=="undefined"){$pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){e.prettyPhoto.stopSlideshow();return false});m=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)}else{e.prettyPhoto.changePage("next")}};e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){e.prettyPhoto.startSlideshow();return false});clearInterval(m);m=undefined};e.prettyPhoto.close=function(){if($pp_overlay.is(":animated"))return;e.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find("object,embed").css("visibility","hidden");e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){e(this).remove()});$pp_overlay.fadeOut(settings.animation_speed,function(){if(settings.hideflash)e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible");e(this).remove();e(window).unbind("scroll.prettyphoto");r();settings.callback();doresize=true;f=false;delete settings})};if(!pp_alreadyInitialized&&t()){pp_alreadyInitialized=true;hashIndex=t();hashRel=hashIndex;hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1);hashRel=hashRel.substring(0,hashRel.indexOf("/"));setTimeout(function(){e("a["+s.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)}return this.unbind("click.prettyphoto").bind("click.prettyphoto",e.prettyPhoto.initialize)};})(jQuery);var pp_alreadyInitialized=false
;/*! Hammer.JS - v1.0.5 - 2013-04-07
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */

(function(t,e){"use strict";function n(){if(!i.READY){i.event.determineEventTypes();for(var t in i.gestures)i.gestures.hasOwnProperty(t)&&i.detection.register(i.gestures[t]);i.event.onTouch(i.DOCUMENT,i.EVENT_MOVE,i.detection.detect),i.event.onTouch(i.DOCUMENT,i.EVENT_END,i.detection.detect),i.READY=!0}}var i=function(t,e){return new i.Instance(t,e||{})};i.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in t,i.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&navigator.userAgent.match(i.MOBILE_REGEX),i.EVENT_TYPES={},i.DIRECTION_DOWN="down",i.DIRECTION_LEFT="left",i.DIRECTION_UP="up",i.DIRECTION_RIGHT="right",i.POINTER_MOUSE="mouse",i.POINTER_TOUCH="touch",i.POINTER_PEN="pen",i.EVENT_START="start",i.EVENT_MOVE="move",i.EVENT_END="end",i.DOCUMENT=document,i.plugins={},i.READY=!1,i.Instance=function(t,e){var r=this;return n(),this.element=t,this.enabled=!0,this.options=i.utils.extend(i.utils.extend({},i.defaults),e||{}),this.options.stop_browser_behavior&&i.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),i.event.onTouch(t,i.EVENT_START,function(t){r.enabled&&i.detection.startDetect(r,t)}),this},i.Instance.prototype={on:function(t,e){for(var n=t.split(" "),i=0;n.length>i;i++)this.element.addEventListener(n[i],e,!1);return this},off:function(t,e){for(var n=t.split(" "),i=0;n.length>i;i++)this.element.removeEventListener(n[i],e,!1);return this},trigger:function(t,e){var n=i.DOCUMENT.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e;var r=this.element;return i.utils.hasParent(e.target,r)&&(r=e.target),r.dispatchEvent(n),this},enable:function(t){return this.enabled=t,this}};var r=null,o=!1,s=!1;i.event={bindDom:function(t,e,n){for(var i=e.split(" "),r=0;i.length>r;r++)t.addEventListener(i[r],n,!1)},onTouch:function(t,e,n){var a=this;this.bindDom(t,i.EVENT_TYPES[e],function(c){var u=c.type.toLowerCase();if(!u.match(/mouse/)||!s){(u.match(/touch/)||u.match(/pointerdown/)||u.match(/mouse/)&&1===c.which)&&(o=!0),u.match(/touch|pointer/)&&(s=!0);var h=0;o&&(i.HAS_POINTEREVENTS&&e!=i.EVENT_END?h=i.PointerEvent.updatePointer(e,c):u.match(/touch/)?h=c.touches.length:s||(h=u.match(/up/)?0:1),h>0&&e==i.EVENT_END?e=i.EVENT_MOVE:h||(e=i.EVENT_END),h||null===r?r=c:c=r,n.call(i.detection,a.collectEventData(t,e,c)),i.HAS_POINTEREVENTS&&e==i.EVENT_END&&(h=i.PointerEvent.updatePointer(e,c))),h||(r=null,o=!1,s=!1,i.PointerEvent.reset())}})},determineEventTypes:function(){var t;t=i.HAS_POINTEREVENTS?i.PointerEvent.getEvents():i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],i.EVENT_TYPES[i.EVENT_START]=t[0],i.EVENT_TYPES[i.EVENT_MOVE]=t[1],i.EVENT_TYPES[i.EVENT_END]=t[2]},getTouchList:function(t){return i.HAS_POINTEREVENTS?i.PointerEvent.getTouchList():t.touches?t.touches:[{identifier:1,pageX:t.pageX,pageY:t.pageY,target:t.target}]},collectEventData:function(t,e,n){var r=this.getTouchList(n,e),o=i.POINTER_TOUCH;return(n.type.match(/mouse/)||i.PointerEvent.matchType(i.POINTER_MOUSE,n))&&(o=i.POINTER_MOUSE),{center:i.utils.getCenter(r),timeStamp:(new Date).getTime(),target:n.target,touches:r,eventType:e,pointerType:o,srcEvent:n,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return i.detection.stopDetect()}}}},i.PointerEvent={pointers:{},getTouchList:function(){var t=this,e=[];return Object.keys(t.pointers).sort().forEach(function(n){e.push(t.pointers[n])}),e},updatePointer:function(t,e){return t==i.EVENT_END?this.pointers={}:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e),Object.keys(this.pointers).length},matchType:function(t,e){if(!e.pointerType)return!1;var n={};return n[i.POINTER_MOUSE]=e.pointerType==e.MSPOINTER_TYPE_MOUSE||e.pointerType==i.POINTER_MOUSE,n[i.POINTER_TOUCH]=e.pointerType==e.MSPOINTER_TYPE_TOUCH||e.pointerType==i.POINTER_TOUCH,n[i.POINTER_PEN]=e.pointerType==e.MSPOINTER_TYPE_PEN||e.pointerType==i.POINTER_PEN,n[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},i.utils={extend:function(t,n,i){for(var r in n)t[r]!==e&&i||(t[r]=n[r]);return t},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){for(var e=[],n=[],i=0,r=t.length;r>i;i++)e.push(t[i].pageX),n.push(t[i].pageY);return{pageX:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){var n=e.pageY-t.pageY,i=e.pageX-t.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,e){var n=Math.abs(t.pageX-e.pageX),r=Math.abs(t.pageY-e.pageY);return n>=r?t.pageX-e.pageX>0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT:t.pageY-e.pageY>0?i.DIRECTION_UP:i.DIRECTION_DOWN},getDistance:function(t,e){var n=e.pageX-t.pageX,i=e.pageY-t.pageY;return Math.sqrt(n*n+i*i)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==i.DIRECTION_UP||t==i.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(t,e){var n,i=["webkit","khtml","moz","ms","o",""];if(e&&t.style){for(var r=0;i.length>r;r++)for(var o in e)e.hasOwnProperty(o)&&(n=o,i[r]&&(n=i[r]+n.substring(0,1).toUpperCase()+n.substring(1)),t.style[n]=e[o]);"none"==e.userSelect&&(t.onselectstart=function(){return!1})}}},i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:i.utils.extend({},e),lastEvent:!1,name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);for(var e=this.current.inst.options,n=0,r=this.gestures.length;r>n;n++){var o=this.gestures[n];if(!this.stopped&&e[o.name]!==!1&&o.handler.call(o,t,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=t),t.eventType==i.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=i.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var e=this.current.startEvent;if(e&&(t.touches.length!=e.touches.length||t.touches===e.touches)){e.touches=[];for(var n=0,r=t.touches.length;r>n;n++)e.touches.push(i.utils.extend({},t.touches[n]))}var o=t.timeStamp-e.timeStamp,s=t.center.pageX-e.center.pageX,a=t.center.pageY-e.center.pageY,c=i.utils.getVelocity(o,s,a);return i.utils.extend(t,{deltaTime:o,deltaX:s,deltaY:a,velocityX:c.x,velocityY:c.y,distance:i.utils.getDistance(e.center,t.center),angle:i.utils.getAngle(e.center,t.center),direction:i.utils.getDirection(e.center,t.center),scale:i.utils.getScale(e.touches,t.touches),rotation:i.utils.getRotation(e.touches,t.touches),startEvent:e}),t},register:function(t){var n=t.defaults||{};return n[t.name]===e&&(n[t.name]=!0),i.utils.extend(i.defaults,n,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},i.gestures=i.gestures||{},i.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,e){switch(t.eventType){case i.EVENT_START:clearTimeout(this.timer),i.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==i.detection.current.name&&e.trigger("hold",t)},e.options.hold_timeout);break;case i.EVENT_MOVE:t.distance>e.options.hold_threshold&&clearTimeout(this.timer);break;case i.EVENT_END:clearTimeout(this.timer)}}},i.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(t,e){if(t.eventType==i.EVENT_END){var n=i.detection.previous,r=!1;if(t.deltaTime>e.options.tap_max_touchtime||t.distance>e.options.tap_max_distance)return;n&&"tap"==n.name&&t.timeStamp-n.lastEvent.timeStamp<e.options.doubletap_interval&&t.distance<e.options.doubletap_distance&&(e.trigger("doubletap",t),r=!0),(!r||e.options.tap_always)&&(i.detection.current.name="tap",e.trigger(i.detection.current.name,t))}}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(t,e){if(t.eventType==i.EVENT_END){if(e.options.swipe_max_touches>0&&t.touches.length>e.options.swipe_max_touches)return;(t.velocityX>e.options.swipe_velocity||t.velocityY>e.options.swipe_velocity)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},i.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,n){if(i.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),this.triggered=!1,e;if(!(n.options.drag_max_touches>0&&t.touches.length>n.options.drag_max_touches))switch(t.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:if(t.distance<n.options.drag_min_distance&&i.detection.current.name!=this.name)return;i.detection.current.name=this.name,(i.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var r=i.detection.current.lastEvent.direction;t.drag_locked_to_axis&&r!==t.direction&&(t.direction=i.utils.isVertical(r)?0>t.deltaY?i.DIRECTION_UP:i.DIRECTION_DOWN:0>t.deltaX?i.DIRECTION_LEFT:i.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),n.trigger(this.name+t.direction,t),(n.options.drag_block_vertical&&i.utils.isVertical(t.direction)||n.options.drag_block_horizontal&&!i.utils.isVertical(t.direction))&&t.preventDefault();break;case i.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},i.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,n){if(i.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),this.triggered=!1,e;if(!(2>t.touches.length))switch(n.options.transform_always_block&&t.preventDefault(),t.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:var r=Math.abs(1-t.scale),o=Math.abs(t.rotation);if(n.options.transform_min_scale>r&&n.options.transform_min_rotation>o)return;i.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),o>n.options.transform_min_rotation&&n.trigger("rotate",t),r>n.options.transform_min_scale&&(n.trigger("pinch",t),n.trigger("pinch"+(1>t.scale?"in":"out"),t));break;case i.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},i.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,n){return n.options.prevent_mouseevents&&t.pointerType==i.POINTER_MOUSE?(t.stopDetect(),e):(n.options.prevent_default&&t.preventDefault(),t.eventType==i.EVENT_START&&n.trigger(this.name,t),e)}},i.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==i.EVENT_END&&e.trigger(this.name,t)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=i:(t.Hammer=i,"function"==typeof t.define&&t.define.amd&&t.define("hammer",[],function(){return i}))})(this),function(t,e){"use strict";t!==e&&(Hammer.event.bindDom=function(n,i,r){t(n).on(i,function(t){var n=t.originalEvent||t;n.pageX===e&&(n.pageX=t.pageX,n.pageY=t.pageY),n.target||(n.target=t.target),n.which===e&&(n.which=n.button),n.preventDefault||(n.preventDefault=t.preventDefault),n.stopPropagation||(n.stopPropagation=t.stopPropagation),r.call(this,n)})},Hammer.Instance.prototype.on=function(e,n){return t(this.element).on(e,n)},Hammer.Instance.prototype.off=function(e,n){return t(this.element).off(e,n)},Hammer.Instance.prototype.trigger=function(e,n){var i=t(this.element);return i.has(n.target).length&&(i=t(n.target)),i.trigger({type:e,gesture:n})},t.fn.hammer=function(e){return this.each(function(){var n=t(this),i=n.data("hammer");i?i&&e&&Hammer.utils.extend(i.options,e):n.data("hammer",new Hammer(this,e||{}))})})}(window.jQuery||window.Zepto);
;/*
 Sticky-kit v0.0.1 | WTFPL | Leaf Corcoran 2013 | http://leafo.net
*/
(function(){var g,s;g=this.jQuery;s=g(window);g.fn.stick_in_parent=function(e){var t,c,p,A,k,B;null==e&&(e={});p=e.sticky_class;t=e.inner_scrolling;c=e.parent;null==c&&(c=void 0);null==t&&(t=!0);null==p&&(p="is_stuck");A=function(a,e,k,u,x,l){var n,q,f,v,b,d,y,z,r,w;d=a.parent();null!=c&&(d=d.closest(c));if(!d.length)throw"failed to find stick parent";y=function(){var b,f;b=parseInt(d.css("border-top-width"),10);f=parseInt(d.css("padding-top"),10);e=parseInt(d.css("padding-bottom"),10);k=d.offset().top+
b+f;u=d.height();x=a.offset().top-parseInt(a.css("margin-top"),10);return l=a.outerHeight(!0)};y();if(l!==u)return f=a.css("float"),r=g("<div />").css({width:a.outerWidth(!0),height:l,display:a.css("display"),"float":f}),n=q=!1,v=void 0,b=0,z=!1,w=function(){var h,g,m,c;m=s.scrollTop();null!=v&&(g=m-v);v=m;q?(c=m+l+b>u+k,n&&!c&&(n=!1,a.css({position:"fixed",bottom:"",top:0}).trigger("sticky_kit:unbottom")),m<x&&(q=!1,b=0,"left"!==f&&"right"!==f||a.insertAfter(r),r.detach(),h={position:""},z&&(h.width=
""),a.css(h).removeClass(p).trigger("sticky_kit:unstick")),t&&(h=s.height(),l>h&&!n&&(b-=g,b=Math.max(h-l,b),b=Math.min(0,b),a.css({top:b+"px"})))):m>x&&(q=!0,h={position:"fixed",top:b},"none"===f&&"block"===a.css("display")&&(h.width=a.width()+"px",z=!0),a.css(h).addClass(p).after(r),"left"!==f&&"right"!==f||r.append(a),a.trigger("sticky_kit:stick"));if(q&&(null==c&&(c=m+l+b>u+k),!n&&c))return n=!0,"static"===d.css("position")&&d.css({position:"relative"}),a.css({position:"absolute",bottom:e,top:""}).trigger("sticky_kit:bottom")},
s.on("scroll",w),setTimeout(w,0),g(document.body).on("sticky_kit:recalc",function(){y();return w()})};k=0;for(B=this.length;k<B;k++)e=this[k],A(g(e));return this}}).call(this);

;/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2011-2012 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
(function(d){function m(a){if(a in j.style)return a;var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1);if(a in j.style)return a;for(a=0;a<b.length;++a){var d=b[a]+c;if(d in j.style)return d}}function l(a){"string"===typeof a&&this.parse(a);return this}function q(a,b,c,e){var h=[];d.each(a,function(a){a=d.camelCase(a);a=d.transit.propertyMap[a]||d.cssProps[a]||a;a=a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()});-1===d.inArray(a,h)&&h.push(a)});d.cssEase[c]&&(c=d.cssEase[c]);
var f=""+n(b)+" "+c;0<parseInt(e,10)&&(f+=" "+n(e));var g=[];d.each(h,function(a,b){g.push(b+" "+f)});return g.join(", ")}function f(a,b){b||(d.cssNumber[a]=!0);d.transit.propertyMap[a]=e.transform;d.cssHooks[a]={get:function(b){return d(b).css("transit:transform").get(a)},set:function(b,e){var h=d(b).css("transit:transform");h.setFromString(a,e);d(b).css({"transit:transform":h})}}}function g(a,b){return"string"===typeof a&&!a.match(/^[\-0-9\.]+$/)?a:""+a+b}function n(a){d.fx.speeds[a]&&(a=d.fx.speeds[a]);
return g(a,"ms")}d.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var j=document.createElement("div"),e={},r=-1<navigator.userAgent.toLowerCase().indexOf("chrome");e.transition=m("transition");e.transitionDelay=m("transitionDelay");e.transform=m("transform");e.transformOrigin=m("transformOrigin");j.style[e.transform]=
"";j.style[e.transform]="rotateY(90deg)";e.transform3d=""!==j.style[e.transform];var p=e.transitionEnd={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[e.transition]||null,k;for(k in e)e.hasOwnProperty(k)&&"undefined"===typeof d.support[k]&&(d.support[k]=e[k]);j=null;d.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",
easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",
easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};d.cssHooks["transit:transform"]={get:function(a){return d(a).data("transform")||
new l},set:function(a,b){var c=b;c instanceof l||(c=new l(c));a.style[e.transform]="WebkitTransform"===e.transform&&!r?c.toString(!0):c.toString();d(a).data("transform",c)}};d.cssHooks.transform={set:d.cssHooks["transit:transform"].set};"1.8">d.fn.jquery&&(d.cssHooks.transformOrigin={get:function(a){return a.style[e.transformOrigin]},set:function(a,b){a.style[e.transformOrigin]=b}},d.cssHooks.transition={get:function(a){return a.style[e.transition]},set:function(a,b){a.style[e.transition]=b}});f("scale");
f("translate");f("rotate");f("rotateX");f("rotateY");f("rotate3d");f("perspective");f("skewX");f("skewY");f("x",!0);f("y",!0);l.prototype={setFromString:function(a,b){var c="string"===typeof b?b.split(","):b.constructor===Array?b:[b];c.unshift(a);l.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=
g(a,"deg")},rotateX:function(a){this.rotateX=g(a,"deg")},rotateY:function(a){this.rotateY=g(a,"deg")},scale:function(a,b){void 0===b&&(b=a);this.scale=a+","+b},skewX:function(a){this.skewX=g(a,"deg")},skewY:function(a){this.skewY=g(a,"deg")},perspective:function(a){this.perspective=g(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0);void 0===this._translateY&&(this._translateY=0);
null!==a&&void 0!==a&&(this._translateX=g(a,"px"));null!==b&&void 0!==b&&(this._translateY=g(b,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");a[0]&&(a[0]=parseFloat(a[0]));a[1]&&(a[1]=parseFloat(a[1]));return a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));
a[3]&&(a[3]=g(a[3],"deg"));return a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,d,e){b.setFromString(d,e)})},toString:function(a){var b=[],c;for(c in this)if(this.hasOwnProperty(c)&&(e.transform3d||!("rotateX"===c||"rotateY"===c||"perspective"===c||"transformOrigin"===c)))"_"!==c[0]&&(a&&"scale"===c?b.push(c+"3d("+this[c]+",1)"):a&&"translate"===c?b.push(c+"3d("+this[c]+",0)"):b.push(c+"("+this[c]+")"));return b.join(" ")}};d.fn.transition=d.fn.transit=function(a,
b,c,f){var h=this,g=0,j=!0;"function"===typeof b&&(f=b,b=void 0);"function"===typeof c&&(f=c,c=void 0);"undefined"!==typeof a.easing&&(c=a.easing,delete a.easing);"undefined"!==typeof a.duration&&(b=a.duration,delete a.duration);"undefined"!==typeof a.complete&&(f=a.complete,delete a.complete);"undefined"!==typeof a.queue&&(j=a.queue,delete a.queue);"undefined"!==typeof a.delay&&(g=a.delay,delete a.delay);"undefined"===typeof b&&(b=d.fx.speeds._default);"undefined"===typeof c&&(c=d.cssEase._default);
b=n(b);var l=q(a,b,c,g),k=d.transit.enabled&&e.transition?parseInt(b,10)+parseInt(g,10):0;if(0===k)return b=j,c=function(b){h.css(a);f&&f.apply(h);b&&b()},!0===b?h.queue(c):b?h.queue(b,c):c(),h;var m={};b=j;c=function(b){this.offsetWidth;var c=!1,g=function(){c&&h.unbind(p,g);0<k&&h.each(function(){this.style[e.transition]=m[this]||null});"function"===typeof f&&f.apply(h);"function"===typeof b&&b()};0<k&&p&&d.transit.useTransitionEnd?(c=!0,h.bind(p,g)):window.setTimeout(g,k);h.each(function(){0<k&&
(this.style[e.transition]=l);d(this).css(a)})};!0===b?h.queue(c):b?h.queue(b,c):c();return this};d.transit.getTransitionValue=q})(jQuery);